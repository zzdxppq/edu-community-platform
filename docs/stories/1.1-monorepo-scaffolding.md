# Story 1.1: 单仓库项目脚手架搭建

## Story

```yaml
Story:
  id: 1.1
  title: 单仓库项目脚手架搭建
  tier: simple
  status: Done
  mode: quick
  repository: fullstack
  epic: 1 - 项目基础设施搭建
  priority: 高
  estimated_complexity: S
```

## Description

创建 Monorepo 目录结构（backend/、frontend/），配置根级构建脚本、.gitignore、.editorconfig 和项目说明文档。这是整个项目的起点，后续所有 Story 都基于此目录结构开展。

## Acceptance Criteria

- [x] 仓库包含 backend/ 和 frontend/ 顶级目录
- [x] 根目录包含 docker-compose.yml 骨架文件
- [x] .gitignore 覆盖 Java、Node.js、IDE 常见忽略项
- [x] 各子项目目录结构清晰，可独立构建

## Tasks

- [x] 创建 Monorepo 根目录结构（backend/、frontend/）
- [x] 创建 backend/ 子目录骨架（Maven 多模块结构占位）
- [x] 创建 frontend/ 子目录骨架（portal/、admin/ 占位）
- [x] 编写 .gitignore（覆盖 Java、Node.js、IDE、OS 常见忽略项）
- [x] 编写 .editorconfig（统一编码风格：UTF-8、LF、缩进规则）
- [x] 创建 docker-compose.yml 骨架文件（服务占位：mysql、redis、nacos、gateway、core、content、file、portal、admin）
- [x] 运行验证：各子目录结构清晰，docker-compose.yml 语法正确
- [x] 验证完成

## Notes

**项目技术栈参考** [→ docs/architecture/tech-stack.md]:
- 后端: Spring Boot 3.2 + Spring Cloud 2023, JDK 21, Maven
- 前端官网: Vue 3 + Nuxt 3 (SSR)
- 管理后台: Vue 3 + Element Plus
- 数据库: MySQL 8.0, Redis 7
- 注册中心: Nacos

**项目目录结构参考** [→ docs/architecture/appendix.md#附录-a-项目目录结构-source-tree]:
```
edu-community-platform/
├── backend/
│   ├── pom.xml                  # Maven 父工程
│   ├── gateway/                 # API Gateway
│   ├── core-service/            # 核心服务（认证+用户+学校）
│   ├── content-service/         # 内容服务（内容+搜索）
│   ├── file-service/            # 文件服务
│   └── common/                  # 公共模块
├── frontend/
│   ├── portal/                  # 官网前端（Nuxt 3）
│   └── admin/                   # 管理后台（Vue 3 + Element Plus）
├── docker-compose.yml
├── .gitignore
├── .editorconfig
└── README.md
```

**docker-compose.yml 骨架服务列表**:
- mysql (8.0), redis (7), nacos (2.3.x)
- gateway, core-service, content-service, file-service
- portal, admin

## Deliverable Bindings

```yaml
deliverable_bindings:
  - deliverable: "docker-compose.yml"
    consumer: "end_user"
    binding_type: config_read
    verify: "services:"
  - deliverable: "backend/pom.xml"
    consumer: "backend/gateway/pom.xml"
    binding_type: config_read
    verify: "<parent>"
  - deliverable: ".gitignore"
    consumer: "end_user"
    binding_type: config_read
    verify: "target/"
```

## Quick Record

| Field | Value |
|-------|-------|
| Dev | claude-opus-4-6 |
| Files | backend/pom.xml, backend/common/pom.xml, backend/gateway/pom.xml, backend/core-service/pom.xml, backend/content-service/pom.xml, backend/file-service/pom.xml, frontend/portal/.gitkeep, frontend/admin/.gitkeep, .gitignore, .editorconfig, docker-compose.yml |
| Tests | Pass (YAML syntax, XML syntax) |
| QA | Verified 2026-02-06 |
| Commit | 2d6727e |

## Change Log

| Date | Agent | Status | Details |
|------|-------|--------|---------|
| 2026-02-06 | SM | Approved | Quick story created, tier=simple |
| 2026-02-06 | Dev | Approved -> InProgress | Quick development started |
| 2026-02-06 | Dev | InProgress -> Review | Implementation complete |
| 2026-02-06 | QA | Review -> Done | Quick verification passed |
