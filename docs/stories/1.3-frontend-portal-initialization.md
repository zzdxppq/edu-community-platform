# Story 1.3: å‰ç«¯å®˜ç½‘é¡¹ç›®åˆå§‹åŒ–

## Story

```yaml
Story:
  id: 1.3
  title: å‰ç«¯å®˜ç½‘é¡¹ç›®åˆå§‹åŒ–
  tier: standard
  status: Done
  mode: plan
  repository: monolith
  epic: 1 - é¡¹ç›®åŸºç¡€è®¾æ–½æ­å»º
  priority: é«˜
  estimated_complexity: M
```

## Epic Context

**Epic**: 1 - é¡¹ç›®åŸºç¡€è®¾æ–½æ­å»º

å®Œæˆ Monorepo è„šæ‰‹æ¶ã€å¾®æœåŠ¡æ¡†æ¶ã€å‰ç«¯å·¥ç¨‹ã€æ•°æ®åº“ã€å®¹å™¨åŒ–ç­‰æŠ€æœ¯åŸºç¡€è®¾æ–½æ­å»ºã€‚

**Story äº¤ä»˜ç›®æ ‡**: ä½¿ç”¨ Vue 3 + Nuxt 3 åˆ›å»º SSR å®˜ç½‘é¡¹ç›®ï¼Œé…ç½®åŸºç¡€è·¯ç”±ã€SEO metaã€å…¨å±€æ ·å¼å˜é‡å’Œ CSS Resetã€‚

## Acceptance Criteria

> âš ï¸ Epic YAML ä½¿ç”¨æ—§ç‰ˆ AC æ ¼å¼ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰ã€‚ä»¥ä¸‹ä¸ºå¢å¼ºæ¸²æŸ“ã€‚

### AC1: Nuxt 3 é¡¹ç›®æ­£å¸¸å¯åŠ¨ï¼ŒSSR æ¸²æŸ“æ­£å¸¸

**Scenario**
```gherkin
GIVEN å¼€å‘è€…åœ¨ frontend/portal/ ç›®å½•ä¸‹æ‰§è¡Œ npm install && npm run dev
WHEN Nuxt 3 å¼€å‘æœåŠ¡å™¨å¯åŠ¨å®Œæˆ
THEN
  - æœåŠ¡åœ¨ http://localhost:3000 æ­£å¸¸å“åº”
  - é¡µé¢ HTML ç”±æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆæŸ¥çœ‹æºä»£ç å¯è§å®Œæ•´ HTML ç»“æ„ï¼‰
  - æµè§ˆå™¨æ§åˆ¶å°æ—  SSR æ°´åˆé”™è¯¯
  - TypeScript ç¼–è¯‘æ— æŠ¥é”™
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-1.1 | å¿…é¡»ä½¿ç”¨ Nuxt 3.10.x ç‰ˆæœ¬ï¼ŒVue 3.4.x |
| BR-1.2 | é¡¹ç›®å¿…é¡»å¯ç”¨ TypeScript 5.x |
| BR-1.3 | æ„å»ºå·¥å…·ä½¿ç”¨ Vite 5.x |
| BR-1.4 | SSR æ¨¡å¼å¿…é¡»ä¸ºé»˜è®¤å¯ç”¨ |

**Error Handling**
| Scenario | Code | Message | Action |
|----------|------|---------|--------|
| npm install ä¾èµ–å†²çª | - | Peer dependency conflict | æ£€æŸ¥ package.json ç‰ˆæœ¬å…¼å®¹æ€§ |
| SSR æ°´åˆä¸åŒ¹é… | - | Hydration mismatch | æ£€æŸ¥ç»„ä»¶æ˜¯å¦æœ‰ä»…å®¢æˆ·ç«¯ API è°ƒç”¨ |
| TS ç¼–è¯‘é”™è¯¯ | - | Type error | ä¿®å¤ç±»å‹å®šä¹‰ |

---

### AC2: åŸºç¡€è·¯ç”±é…ç½®å®Œæˆ

**Scenario**
```gherkin
GIVEN Nuxt 3 é¡¹ç›®æ­£å¸¸è¿è¡Œ
WHEN ç”¨æˆ·è®¿é—®ä»¥ä¸‹ URL è·¯å¾„
THEN
  - / (é¦–é¡µ) è¿”å› 200 å¹¶æ¸²æŸ“é¦–é¡µå†…å®¹
  - /intro (é¡¹ç›®ä»‹ç») è¿”å› 200 å¹¶æ¸²æŸ“é¡¹ç›®ä»‹ç»é¡µ
  - /policy (æ”¿ç­–æ–‡ä»¶) è¿”å› 200 å¹¶æ¸²æŸ“æ”¿ç­–æ–‡ä»¶åˆ—è¡¨é¡µ
  - /schools (ç¤ºèŒƒæ ¡) è¿”å› 200 å¹¶æ¸²æŸ“ç¤ºèŒƒæ ¡åˆ—è¡¨é¡µ
  - /resources (èµ„æºå…±äº«) è¿”å› 200 å¹¶æ¸²æŸ“èµ„æºåˆ—è¡¨é¡µ
  - è®¿é—®ä¸å­˜åœ¨è·¯å¾„è¿”å›è‡ªå®šä¹‰ 404 é”™è¯¯é¡µ
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-2.1 | è·¯ç”±ä½¿ç”¨ Nuxt 3 æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼ˆpages/ ç›®å½•è‡ªåŠ¨ç”Ÿæˆï¼‰ |
| BR-2.2 | è·¯ç”±è·¯å¾„ä¸æ¶æ„æ–‡æ¡£ä¸€è‡´ [â†’ docs/architecture/front-end-spec.md#4.1] |
| BR-2.3 | æ¯ä¸ªé¡µé¢éœ€ä½¿ç”¨ default å¸ƒå±€ |
| BR-2.4 | 404 é¡µé¢ä½¿ç”¨ error.vue è‡ªå®šä¹‰ |

> **æ³¨æ„**: Epic AC ä¸­æåˆ° `/about` è·¯å¾„ï¼Œä½†æ¶æ„æ–‡æ¡£ [â†’ docs/architecture/front-end-spec.md#4.1] å®šä¹‰ä¸º `/intro`ï¼ˆé¡¹ç›®ä»‹ç»ï¼‰ã€‚ä»¥æ¶æ„æ–‡æ¡£ä¸ºå‡†ï¼Œä½¿ç”¨ `/intro`ã€‚

**Error Handling**
| Scenario | Code | Message | Action |
|----------|------|---------|--------|
| 404 Not Found | 404 | é¡µé¢ä¸å­˜åœ¨ | æ¸²æŸ“è‡ªå®šä¹‰ error.vue |
| 500 Server Error | 500 | æœåŠ¡å™¨é”™è¯¯ | æ¸²æŸ“é€šç”¨é”™è¯¯é¡µ |

---

### AC3: å…¨å±€ SCSS å˜é‡å’Œ reset æ ·å¼å°±ç»ª

**Scenario**
```gherkin
GIVEN å…¨å±€æ ·å¼æ–‡ä»¶å·²åˆ›å»º
WHEN ä»»æ„é¡µé¢ç»„ä»¶æ¸²æŸ“
THEN
  - CSS å˜é‡ï¼ˆé…è‰²ã€å­—å·ã€é—´è·ç­‰ï¼‰åœ¨æ‰€æœ‰é¡µé¢å¯ç”¨
  - CSS Reset å·²ç”Ÿæ•ˆï¼Œä¸åŒæµè§ˆå™¨æ¸²æŸ“ä¸€è‡´
  - å˜é‡å€¼ä¸ UI è®¾è®¡è§„èŒƒæ–‡æ¡£ä¸€è‡´ [â†’ docs/ui-design-specification.md]
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-3.1 | CSS å˜é‡å®šä¹‰å¿…é¡»ä¸ UI è®¾è®¡è§„èŒƒæ–‡æ¡£å®Œå…¨ä¸€è‡´ [â†’ docs/ui-design-specification.md#äºŒã€é…è‰²æ–¹æ¡ˆ] |
| BR-3.2 | å˜é‡æ–‡ä»¶è·¯å¾„: assets/css/variables.css [â†’ docs/architecture/front-end-spec.md#3.1] |
| BR-3.3 | Reset æ–‡ä»¶è·¯å¾„: assets/css/reset.css |
| BR-3.4 | ä¸»æ ·å¼å…¥å£: assets/css/main.cssï¼ˆå¯¼å…¥ variables å’Œ resetï¼‰ |
| BR-3.5 | å­—ä½“æ ˆä½¿ç”¨: "Microsoft YaHei", "PingFang SC", sans-serif |

---

### AC4: SEO meta é»˜è®¤é…ç½®å¯ç”¨

**Scenario**
```gherkin
GIVEN Nuxt 3 é¡¹ç›®å·²é…ç½® SEO meta
WHEN æœç´¢å¼•æ“çˆ¬è™«æˆ–æµè§ˆå™¨è®¿é—®é¡µé¢
THEN
  - HTML <head> åŒ…å«é»˜è®¤ titleã€descriptionã€keywords
  - æ¯ä¸ªé¡µé¢å¯è¦†ç›–é»˜è®¤ meta ä¿¡æ¯
  - SSR æ¸²æŸ“çš„ HTML æºä»£ç ä¸­åŒ…å«å®Œæ•´ meta æ ‡ç­¾
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-4.1 | é»˜è®¤ title: "æ²³å—åŸä¹¡å­¦æ ¡å…±åŒä½“å‘å±•å¹³å°" |
| BR-4.2 | ä½¿ç”¨ Nuxt 3 å†…ç½® useHead() / useSeoMeta() é…ç½® |
| BR-4.3 | nuxt.config.ts ä¸­è®¾ç½®å…¨å±€é»˜è®¤ meta |
| BR-4.4 | å­—ç¬¦é›†: UTF-8, è§†å£: width=device-width, initial-scale=1 |

**Error Handling**
| Scenario | Code | Message | Action |
|----------|------|---------|--------|
| Meta æœªæ¸²æŸ“åˆ° HTML | - | SEO meta missing in source | æ£€æŸ¥ useHead æ˜¯å¦åœ¨ SSR é˜¶æ®µæ‰§è¡Œ |

---

## Tasks / Subtasks

### Infrastructure Tasks (Shared)

- [x] **T0: é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€é…ç½®** `[ALL ACs]`
  - [x] åœ¨ `frontend/portal/` ä¸‹ä½¿ç”¨ `npx nuxi@latest init .` åˆå§‹åŒ– Nuxt 3 é¡¹ç›®
  - [x] é…ç½® `package.json`ï¼šè®¾ç½®é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€scriptsï¼ˆdev/build/preview/generateï¼‰
  - [x] é…ç½® `tsconfig.json`ï¼šç»§æ‰¿ Nuxt é»˜è®¤ TS é…ç½®
  - [x] åˆ›å»º `.env.development` å’Œ `.env.production` ç¯å¢ƒå˜é‡æ–‡ä»¶
  - [x] éªŒè¯ `npm install` æˆåŠŸï¼Œæ— ä¾èµ–å†²çª

### Feature Implementation Tasks

#### AC1: Nuxt 3 é¡¹ç›®æ­£å¸¸å¯åŠ¨ï¼ŒSSR æ¸²æŸ“æ­£å¸¸

- [x] **T1: é…ç½® Nuxt 3 æ ¸å¿ƒä¸ SSR** `[AC1]`
  - [x] é…ç½® `nuxt.config.ts`ï¼šå¯ç”¨ SSRã€è®¾ç½® devServer ç«¯å£ 3000
  - [x] åˆ›å»º `app.vue` æ ¹ç»„ä»¶ï¼ŒåŒ…å« `<NuxtLayout>` å’Œ `<NuxtPage>`
  - [x] åˆ›å»º `layouts/default.vue` é»˜è®¤å¸ƒå±€ï¼ˆHeader + Main + Footer éª¨æ¶ï¼‰
  - [x] åˆ›å»º `layouts/blank.vue` ç©ºç™½å¸ƒå±€
  - [x] éªŒè¯ `npm run dev` å¯åŠ¨æˆåŠŸ
  - [x] éªŒè¯ HTML æºä»£ç åŒ…å«æœåŠ¡ç«¯æ¸²æŸ“å†…å®¹ï¼ˆéç©ºç™½ bodyï¼‰
  - [x] éªŒè¯æµè§ˆå™¨æ§åˆ¶å°æ—  SSR æ°´åˆé”™è¯¯

#### AC2: åŸºç¡€è·¯ç”±é…ç½®å®Œæˆ

- [x] **T2: åˆ›å»ºé¡µé¢è·¯ç”±** `[AC2]`
  - [x] åˆ›å»º `pages/index.vue`ï¼ˆé¦–é¡µå ä½ï¼‰
  - [x] åˆ›å»º `pages/intro.vue`ï¼ˆé¡¹ç›®ä»‹ç»å ä½ï¼‰
  - [x] åˆ›å»º `pages/policy/index.vue`ï¼ˆæ”¿ç­–æ–‡ä»¶åˆ—è¡¨å ä½ï¼‰
  - [x] åˆ›å»º `pages/schools/index.vue`ï¼ˆç¤ºèŒƒæ ¡åˆ—è¡¨å ä½ï¼‰
  - [x] åˆ›å»º `pages/resources/index.vue`ï¼ˆèµ„æºå…±äº«åˆ—è¡¨å ä½ï¼‰
  - [x] åˆ›å»º `error.vue` è‡ªå®šä¹‰é”™è¯¯é¡µé¢ï¼ˆ404/500ï¼‰
  - [x] éªŒè¯æ‰€æœ‰è·¯ç”±å¯è®¿é—®ï¼Œè¿”å› 200
  - [x] éªŒè¯ä¸å­˜åœ¨è·¯å¾„è¿”å›è‡ªå®šä¹‰ 404 é¡µé¢

#### AC3: å…¨å±€ SCSS å˜é‡å’Œ reset æ ·å¼å°±ç»ª

- [x] **T3: å…¨å±€æ ·å¼ç³»ç»Ÿæ­å»º** `[AC3]`
  - [x] åˆ›å»º `assets/css/variables.css`ï¼šå®Œæ•´ CSS å˜é‡ï¼ˆé…è‰²ã€å­—å·ã€é—´è·ã€å¸ƒå±€ã€å­—ä½“ã€é˜´å½±ã€åœ†è§’ã€è¿‡æ¸¡ï¼‰
  - [x] åˆ›å»º `assets/css/reset.css`ï¼šCSS Reset æ ·å¼
  - [x] åˆ›å»º `assets/css/main.css`ï¼šå¯¼å…¥ variables.css å’Œ reset.css
  - [x] åœ¨ `nuxt.config.ts` ä¸­æ³¨å†Œå…¨å±€ CSSï¼š`css: ['~/assets/css/main.css']`
  - [x] éªŒè¯ CSS å˜é‡åœ¨é¡µé¢ç»„ä»¶ä¸­å¯ç”¨
  - [x] éªŒè¯å˜é‡å€¼ä¸ `docs/ui-design-specification.md` é…è‰²æ–¹æ¡ˆä¸€è‡´

#### AC4: SEO meta é»˜è®¤é…ç½®å¯ç”¨

- [x] **T4: SEO Meta é…ç½®** `[AC4]`
  - [x] åœ¨ `nuxt.config.ts` ä¸­é…ç½® `app.head`ï¼šcharsetã€viewportã€é»˜è®¤ title å’Œ description
  - [x] åœ¨ `pages/index.vue` ä¸­ä½¿ç”¨ `useHead()` æ¼”ç¤ºé¡µé¢çº§ meta è¦†ç›–
  - [x] éªŒè¯ HTML `<head>` ä¸­åŒ…å«é»˜è®¤ meta æ ‡ç­¾
  - [x] éªŒè¯ SSR æ¸²æŸ“æºä»£ç ä¸­ meta æ ‡ç­¾å®Œæ•´

### Integration & Verification Tasks

- [x] **T5: é›†æˆæµ‹è¯•** `[ALL ACs]`
  - [x] ç«¯åˆ°ç«¯éªŒè¯ï¼šæ‰€æœ‰ 5 ä¸ªè·¯ç”±é¡µé¢å¯è®¿é—®
  - [x] SSR æ¸²æŸ“éªŒè¯ï¼šæ¯ä¸ªé¡µé¢çš„ HTML æºä»£ç åŒ…å«æœåŠ¡ç«¯å†…å®¹
  - [x] æ ·å¼éªŒè¯ï¼šCSS å˜é‡åœ¨æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆ
  - [x] SEO éªŒè¯ï¼šæ¯ä¸ªé¡µé¢çš„ `<head>` åŒ…å«æ­£ç¡® meta
  - [x] é”™è¯¯é¡µé¢éªŒè¯ï¼š404 å’Œ 500 é¡µé¢æ­£ç¡®æ¸²æŸ“

- [x] **T6: æœ€ç»ˆéªŒè¯** `[ALL ACs]`
  - [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
  - [x] æ—  ESLint é”™è¯¯
  - [x] TypeScript ç¼–è¯‘æ— æŠ¥é”™
  - [x] `npm run build` æ„å»ºæˆåŠŸ
  - [x] Dev Log å®Œæˆå®ç°æ€»ç»“
  - [x] Status â†’ Review

### AC Coverage Matrix

| Task | AC1 | AC2 | AC3 | AC4 |
|------|:---:|:---:|:---:|:---:|
| T0: é¡¹ç›®åˆå§‹åŒ– | âœ“ | âœ“ | âœ“ | âœ“ |
| T1: Nuxt 3 æ ¸å¿ƒä¸ SSR | âœ“ |   |   |   |
| T2: é¡µé¢è·¯ç”± |   | âœ“ |   |   |
| T3: å…¨å±€æ ·å¼ |   |   | âœ“ |   |
| T4: SEO Meta |   |   |   | âœ“ |
| T5: é›†æˆæµ‹è¯• | âœ“ | âœ“ | âœ“ | âœ“ |
| T6: æœ€ç»ˆéªŒè¯ | âœ“ | âœ“ | âœ“ | âœ“ |

## Dev Notes

### Technical Constraints

- Nuxt 3 ç‰ˆæœ¬å¿…é¡»ä¸º 3.10.xï¼ŒVue 3.4.x [â†’ docs/architecture/tech-stack.md#2.2]
- æ„å»ºå·¥å…· Vite 5.x [â†’ docs/architecture/tech-stack.md#2.2]
- æœ¬ Story ä»…åˆ›å»ºå®˜ç½‘å‰ç«¯ï¼ˆportalï¼‰ï¼Œä¸æ¶‰åŠç®¡ç†åå°ï¼ˆadmin/schoolï¼‰
- é¡µé¢ä¸ºå ä½é¡µé¢ï¼ˆplaceholderï¼‰ï¼Œä»…éœ€æœ‰åŸºæœ¬ç»“æ„å’Œæ ‡é¢˜æ–‡å­—ï¼Œä¸å®ç°ä¸šåŠ¡é€»è¾‘
- SSR æ¨¡å¼ä¸º Nuxt 3 é»˜è®¤å¯ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®

### UI/UX Specification Reference

**ğŸ“ Reference File**: `docs/architecture/front-end-spec.md`

| Section | Why Relevant |
|---------|--------------|
| äºŒã€é¡¹ç›®ç»“æ„è§„èŒƒ Â§2.1 | å®˜ç½‘å‰ç«¯å®Œæ•´ç›®å½•ç»“æ„å®šä¹‰ |
| ä¸‰ã€è®¾è®¡è§„èŒƒå¯¹æ¥ Â§3.1 | CSS å˜é‡å®Œæ•´å®šä¹‰ï¼Œéœ€é€ä¸€å®ç° |
| å››ã€è·¯ç”±è§„èŒƒ Â§4.1 | å®˜ç½‘è·¯ç”±è¡¨ï¼Œå®šä¹‰æ‰€æœ‰è·¯ç”±è·¯å¾„ |
| å…«ã€ä»£ç è§„èŒƒ Â§8.1-8.4 | ESLint/Prettier é…ç½®å’Œå‘½åè§„èŒƒ |

**ğŸ“ Reference File**: `docs/ui-design-specification.md`

| Section | Why Relevant |
|---------|--------------|
| äºŒã€é…è‰²æ–¹æ¡ˆ Â§2.1 | ä¸»è‰²/å¼ºè°ƒè‰²/è¾…è‰²/ä¸­æ€§è‰²/åŠŸèƒ½è‰²å®Œæ•´è‰²å€¼ |
| ä¸‰ã€å­—ä½“æ’ç‰ˆ | å­—ä½“æ ˆã€å­—å·ã€è¡Œé«˜å®šä¹‰ |
| å››ã€é—´è·ç³»ç»Ÿ | é—´è·å˜é‡å€¼ |

### Accumulated Context (From Previous Stories)

| Resource Type | Name | Source Story | Action | Key Info |
|--------------|------|--------------|--------|----------|
| Directory | `frontend/portal/` | 1.1 | REUSE | å·²åˆ›å»ºå ä½ç›®å½• |
| File | `docker-compose.yml` | 1.1 | REUSE | portal æœåŠ¡å ä½å·²å®šä¹‰ï¼ˆport 3000ï¼‰ |
| File | `.gitignore` | 1.1 | REUSE | å·²åŒ…å« Node.js å¿½ç•¥é¡¹ |
| File | `.editorconfig` | 1.1 | REUSE | ç¼–ç é£æ ¼ç»Ÿä¸€é…ç½® |

### Database Design

æœ¬ Story ä¸æ¶‰åŠæ•°æ®åº“æ“ä½œã€‚

### Data Models

æœ¬ Story ä¸æ¶‰åŠæ•°æ®æ¨¡å‹å®šä¹‰ã€‚åç»­ Story å°†åˆ›å»º `types/` ç›®å½•ä¸‹çš„ç±»å‹å®šä¹‰ã€‚

### File Locations

åŸºäºæ¶æ„æ–‡æ¡£ [â†’ docs/architecture/front-end-spec.md#2.1] çš„ç›®å½•è§„èŒƒï¼š

```
frontend/portal/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ variables.css       # CSS å˜é‡ (é…è‰²/å­—ä½“/é—´è·/å¸ƒå±€)  [CREATE]
â”‚   â”‚   â”œâ”€â”€ reset.css           # CSS Reset                       [CREATE]
â”‚   â”‚   â””â”€â”€ main.css            # ä¸»æ ·å¼å…¥å£                      [CREATE]
â”‚   â””â”€â”€ images/                 # å›¾ç‰‡èµ„æºç›®å½•                    [CREATE]
â”œâ”€â”€ components/                 # ç»„ä»¶ç›®å½•                        [CREATE]
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ default.vue             # é»˜è®¤å¸ƒå±€ (Header+Main+Footer)   [CREATE]
â”‚   â””â”€â”€ blank.vue               # ç©ºç™½å¸ƒå±€                        [CREATE]
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.vue               # é¦–é¡µ                            [CREATE]
â”‚   â”œâ”€â”€ intro.vue               # é¡¹ç›®ä»‹ç»                        [CREATE]
â”‚   â”œâ”€â”€ policy/
â”‚   â”‚   â””â”€â”€ index.vue           # æ”¿ç­–æ–‡ä»¶åˆ—è¡¨                    [CREATE]
â”‚   â”œâ”€â”€ schools/
â”‚   â”‚   â””â”€â”€ index.vue           # ç¤ºèŒƒæ ¡åˆ—è¡¨                      [CREATE]
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ index.vue           # èµ„æºå…±äº«åˆ—è¡¨                    [CREATE]
â”œâ”€â”€ app.vue                     # æ ¹ç»„ä»¶                          [CREATE]
â”œâ”€â”€ error.vue                   # é”™è¯¯é¡µé¢ (404/500)              [CREATE]
â”œâ”€â”€ nuxt.config.ts              # Nuxt é…ç½®                       [CREATE]
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®                 [CREATE]
â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®                        [CREATE]
â”œâ”€â”€ .env.development            # å¼€å‘ç¯å¢ƒå˜é‡                    [CREATE]
â””â”€â”€ .env.production             # ç”Ÿäº§ç¯å¢ƒå˜é‡                    [CREATE]
```

### Deliverable Bindings

> **SM**: æ¯ä¸ªæ–°ä»£ç å•å…ƒçš„ç»‘å®šå®šä¹‰ã€‚Dev Gate å°†éªŒè¯è¿™äº›ç»‘å®šã€‚

```yaml
deliverable_bindings:
  - deliverable: "frontend/portal/nuxt.config.ts"
    consumer: "end_user"
    binding_type: config_read
    verify: "defineNuxtConfig"

  - deliverable: "frontend/portal/app.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: config_read
    verify: "NuxtLayout|NuxtPage"

  - deliverable: "frontend/portal/layouts/default.vue"
    consumer: "frontend/portal/app.vue"
    binding_type: route_mount
    verify: "NuxtLayout"

  - deliverable: "frontend/portal/pages/index.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: route_mount
    verify: "pages/index"

  - deliverable: "frontend/portal/pages/intro.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: route_mount
    verify: "pages/intro"

  - deliverable: "frontend/portal/pages/policy/index.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: route_mount
    verify: "pages/policy"

  - deliverable: "frontend/portal/pages/schools/index.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: route_mount
    verify: "pages/schools"

  - deliverable: "frontend/portal/pages/resources/index.vue"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: route_mount
    verify: "pages/resources"

  - deliverable: "frontend/portal/assets/css/variables.css"
    consumer: "frontend/portal/assets/css/main.css"
    binding_type: import_usage
    verify: "@import.*variables"

  - deliverable: "frontend/portal/assets/css/reset.css"
    consumer: "frontend/portal/assets/css/main.css"
    binding_type: import_usage
    verify: "@import.*reset"

  - deliverable: "frontend/portal/assets/css/main.css"
    consumer: "frontend/portal/nuxt.config.ts"
    binding_type: config_read
    verify: "~/assets/css/main.css"

  - deliverable: "frontend/portal/error.vue"
    consumer: "end_user"
    binding_type: config_read
    verify: "error"
```

**Binding Status**: âœ… Verified

### Testing Requirements

- **SSR éªŒè¯**: æ£€æŸ¥ `curl http://localhost:3000` è¿”å›çš„ HTML åŒ…å«å®Œæ•´æ¸²æŸ“å†…å®¹ï¼ˆéç©º `<div id="__nuxt">`ï¼‰
- **è·¯ç”±éªŒè¯**: æ‰€æœ‰ 5 ä¸ªè·¯ç”±ï¼ˆ/, /intro, /policy, /schools, /resourcesï¼‰è¿”å› 200
- **404 éªŒè¯**: è®¿é—® `/non-existent` è¿”å›è‡ªå®šä¹‰ 404 é¡µé¢
- **æ ·å¼éªŒè¯**: æ£€æŸ¥æµè§ˆå™¨è®¡ç®—æ ·å¼ä¸­ CSS å˜é‡å·²ç”Ÿæ•ˆ
- **SEO éªŒè¯**: æŸ¥çœ‹ HTML æºä»£ç ç¡®è®¤ `<title>`, `<meta name="description">` å­˜åœ¨
- **æ„å»ºéªŒè¯**: `npm run build` æˆåŠŸå®Œæˆï¼Œæ— é”™è¯¯

## AC Traceability Matrix

> **Dev**: å®ç°å®Œæˆåå¡«å†™æ­¤éƒ¨åˆ†ã€‚æ¯ä¸ª AC éœ€è¦è¯æ®ã€‚
> **QA**: åœ¨ AC è¦†ç›–éªŒè¯æ—¶æ ¸å®æ¯æ¡è®°å½•ã€‚

### AC1: Nuxt 3 é¡¹ç›®æ­£å¸¸å¯åŠ¨ï¼ŒSSR æ¸²æŸ“æ­£å¸¸

```yaml
ac_id: AC1
code_locations:
  - "frontend/portal/nuxt.config.ts:1-26"
  - "frontend/portal/app.vue:1-5"
  - "frontend/portal/layouts/default.vue:1-104"
  - "frontend/portal/layouts/blank.vue:1-11"
test_locations:
  - "manual: curl SSR verification"
  - "manual: npm run build success"
verification_type: manual
aspects_covered:
  main_scenario: true
  business_rules: true
  data_validation: true
  error_handling: true
notes: "SSR æ¸²æŸ“éªŒè¯é€šè¿‡ï¼ŒHTML æºä»£ç åŒ…å«å®Œæ•´æœåŠ¡ç«¯å†…å®¹ï¼Œæ„å»ºæˆåŠŸ"
```

### AC2: åŸºç¡€è·¯ç”±é…ç½®å®Œæˆ

```yaml
ac_id: AC2
code_locations:
  - "frontend/portal/pages/index.vue:1-27"
  - "frontend/portal/pages/intro.vue:1-30"
  - "frontend/portal/pages/policy/index.vue:1-30"
  - "frontend/portal/pages/schools/index.vue:1-30"
  - "frontend/portal/pages/resources/index.vue:1-30"
  - "frontend/portal/error.vue:1-78"
test_locations:
  - "manual: curl all 5 routes return 200"
  - "manual: curl /non-existent returns 404 with custom error page"
verification_type: manual
aspects_covered:
  main_scenario: true
  business_rules: true
  data_validation: true
  error_handling: true
notes: "æ‰€æœ‰è·¯ç”±é€šè¿‡æ–‡ä»¶ç³»ç»Ÿè·¯ç”±è‡ªåŠ¨ç”Ÿæˆï¼Œ404 ä½¿ç”¨ error.vue æ¸²æŸ“"
```

### AC3: å…¨å±€ SCSS å˜é‡å’Œ reset æ ·å¼å°±ç»ª

```yaml
ac_id: AC3
code_locations:
  - "frontend/portal/assets/css/variables.css:1-106"
  - "frontend/portal/assets/css/reset.css:1-70"
  - "frontend/portal/assets/css/main.css:1-2"
test_locations:
  - "manual: SSR HTML å†…è” CSS åŒ…å«æ‰€æœ‰å˜é‡"
  - "manual: å˜é‡å€¼ä¸ ui-design-specification.md å’Œ front-end-spec.md Â§3.1 ä¸€è‡´"
verification_type: manual
aspects_covered:
  main_scenario: true
  business_rules: true
  data_validation: true
  error_handling: true
notes: "ä¿®å¤äº† shadow å˜é‡ä¸ front-end-spec.md ä¸ä¸€è‡´é—®é¢˜ï¼Œæ·»åŠ äº† --shadow-header å’Œ --radius-full"
```

### AC4: SEO meta é»˜è®¤é…ç½®å¯ç”¨

```yaml
ac_id: AC4
code_locations:
  - "frontend/portal/nuxt.config.ts:9-19"
  - "frontend/portal/pages/index.vue:10-14"
test_locations:
  - "manual: HTML source contains <title> and <meta> tags"
  - "manual: SSR rendered HTML includes complete meta"
verification_type: manual
aspects_covered:
  main_scenario: true
  business_rules: true
  data_validation: true
  error_handling: true
notes: "å…¨å±€é»˜è®¤ meta åœ¨ nuxt.config.ts é…ç½®ï¼Œé¡µé¢çº§é€šè¿‡ useHead() è¦†ç›–"
```

---

### Traceability Summary

| AC | Code Location | Test Location | Type | Status |
|----|---------------|---------------|------|--------|
| AC1 | nuxt.config.ts, app.vue, layouts/ | manual SSR + build | manual | âœ… |
| AC2 | pages/*, error.vue | manual curl routes | manual | âœ… |
| AC3 | assets/css/* | manual CSS inline check | manual | âœ… |
| AC4 | nuxt.config.ts, pages/index.vue | manual meta check | manual | âœ… |

**Legend**: âœ… Verified | â³ Pending | âŒ Missing

## Dev Agent Record

### Agent Model Used

Claude Opus 4.6

### Implementation Summary

ä½¿ç”¨ Vue 3.4.x + Nuxt 3.10.x åˆ›å»º SSR å®˜ç½‘é¡¹ç›®ã€‚é…ç½®äº† 5 ä¸ªé¡µé¢è·¯ç”±ï¼ˆæ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼‰ã€è‡ªå®šä¹‰ 404/500 é”™è¯¯é¡µã€å…¨å±€ CSS å˜é‡ç³»ç»Ÿï¼ˆé…è‰²/å­—å·/é—´è·/å¸ƒå±€/é˜´å½±/åœ†è§’/è¿‡æ¸¡ï¼‰ã€CSS Resetã€SEO meta é»˜è®¤é…ç½®ã€‚ä¿®å¤äº† shadow å˜é‡ä¸ front-end-spec.md Â§3.1 çš„å·®å¼‚ã€‚æ„å»ºéªŒè¯é€šè¿‡ã€‚

### Database Changes (Structured)

```yaml
{}
```

### API Endpoints Created (Structured)

```yaml
[]
```

### Shared Models Created (Structured)

```yaml
{}
```

### File List

| File | Action | Description |
|------|--------|-------------|
| `frontend/portal/package.json` | CREATE | é¡¹ç›®ä¾èµ–é…ç½® (Nuxt 3.10.x, Vue 3.4.x, TS 5.x) |
| `frontend/portal/nuxt.config.ts` | CREATE | Nuxt é…ç½® (SSR, CSS, SEO meta, devServer) |
| `frontend/portal/tsconfig.json` | CREATE | TypeScript é…ç½® |
| `frontend/portal/.env.development` | CREATE | å¼€å‘ç¯å¢ƒå˜é‡ |
| `frontend/portal/.env.production` | CREATE | ç”Ÿäº§ç¯å¢ƒå˜é‡ |
| `frontend/portal/app.vue` | CREATE | æ ¹ç»„ä»¶ (NuxtLayout + NuxtPage) |
| `frontend/portal/error.vue` | CREATE | è‡ªå®šä¹‰é”™è¯¯é¡µé¢ (404/500) |
| `frontend/portal/layouts/default.vue` | CREATE | é»˜è®¤å¸ƒå±€ (Header + Main + Footer) |
| `frontend/portal/layouts/blank.vue` | CREATE | ç©ºç™½å¸ƒå±€ |
| `frontend/portal/pages/index.vue` | CREATE | é¦–é¡µ (useHead è¦†ç›–) |
| `frontend/portal/pages/intro.vue` | CREATE | é¡¹ç›®ä»‹ç»é¡µ |
| `frontend/portal/pages/policy/index.vue` | CREATE | æ”¿ç­–æ–‡ä»¶åˆ—è¡¨é¡µ |
| `frontend/portal/pages/schools/index.vue` | CREATE | ç¤ºèŒƒæ ¡åˆ—è¡¨é¡µ |
| `frontend/portal/pages/resources/index.vue` | CREATE | èµ„æºå…±äº«åˆ—è¡¨é¡µ |
| `frontend/portal/assets/css/variables.css` | CREATE/FIX | CSS å˜é‡ (ä¿®å¤ shadow å€¼å¯¹é½ front-end-spec) |
| `frontend/portal/assets/css/reset.css` | CREATE | CSS Reset |
| `frontend/portal/assets/css/main.css` | CREATE | ä¸»æ ·å¼å…¥å£ |

### Dev Log Reference

`docs/dev/logs/1.3-dev-log.md`

### Open Issues

_None_

## Architect Review Metadata

_Pending_

## QA Test Design Metadata

_Pending_

## QA Results

### Review Round 1 â€” 2026-02-08

**Reviewer**: JW (QA Engineer)
**Gate Result**: âœ… PASS
**Risk Level**: LOW

#### Verification Summary

| Category | Result |
|----------|--------|
| Automated Validation | 43/43 PASS (100%) |
| npm install | PASS |
| nuxt build | PASS |
| E2E Routes (5 pages + 404) | 6/6 PASS |
| SSR Rendering | 5/5 pages server-rendered |
| SEO Meta | title, description, charset, viewport verified |
| CSS Variables | Design system fully applied |
| Layout Structure | Header + Footer present |
| Task Checkboxes | 35/35 (100%) |
| AC Coverage | 4/4 (100%) |

#### AC Verification Details

| AC | Status | Method | Evidence |
|----|--------|--------|----------|
| AC1: SSR å¯åŠ¨ | âœ… VERIFIED | build + e2e | npm install/build success; curl è¿”å›å®Œæ•´ SSR HTML |
| AC2: è·¯ç”±é…ç½® | âœ… VERIFIED | e2e curl | 5 è·¯ç”±è¿”å› 200; /non-existent è¿”å›è‡ªå®šä¹‰ 404 |
| AC3: CSS å˜é‡ | âœ… VERIFIED | source inspection | variables.css å®Œæ•´; reset.css ç”Ÿæ•ˆ; main.css å¯¼å…¥é“¾æ­£ç¡® |
| AC4: SEO meta | âœ… VERIFIED | e2e curl | æ‰€æœ‰é¡µé¢ HTML head åŒ…å« title/description/charset/viewport |

#### Issues

| Severity | Count |
|----------|-------|
| Critical | 0 |
| High | 0 |
| Medium | 0 |
| Low | 0 |

**Gate File**: `docs/qa/gates/1.3-frontend-portal-initialization.yml`

## Change Log

| Date | Agent | Status Transition | Details/Link |
|------|-------|-------------------|--------------|
| 2026-02-06 | SM | Created â†’ Draft | Story created from Epic 1 |
| 2026-02-06 | SM | Draft â†’ Approved | Gate PASS (10.0/10). Architect review: NOT_REQUIRED (quality 10.0, complexity 0). Test design: Simple. Direct to Dev. |
| 2026-02-08 | Dev | Approved â†’ InProgress | Implementation started |
| 2026-02-08 | Dev | InProgress â†’ Review | All 4 ACs verified. Build passed. CSS shadow vars fixed to match front-end-spec.md. |
| 2026-02-08 | QA | Review â†’ Done | Gate PASS. 43/43 automated checks, 6/6 E2E routes, SSR+SEO verified, 0 issues. |
