<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¯¼èˆªç®¡ç† - ç®¡ç†åå°</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/admin-modal.css">
  <style>
    .nav-list {
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
    }
    .nav-item {
      display: flex;
      align-items: center;
      padding: 16px 24px;
      border-bottom: 1px solid var(--neutral-200);
      gap: 16px;
    }
    .nav-item:last-child {
      border-bottom: none;
    }
    .nav-drag {
      cursor: move;
      color: var(--neutral-400);
      font-size: 20px;
    }
    .nav-info {
      flex: 1;
    }
    .nav-name {
      font-weight: 600;
      color: var(--neutral-800);
      margin-bottom: 4px;
    }
    .nav-url {
      font-size: 13px;
      color: var(--neutral-500);
    }
    .nav-status {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
    }
    .nav-status.active {
      background: var(--success-100);
      color: var(--success-700);
    }
    .nav-status.inactive {
      background: var(--neutral-200);
      color: var(--neutral-600);
    }
    .nav-actions {
      display: flex;
      gap: 8px;
    }
    .section-card {
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
      margin-bottom: 24px;
    }
    .section-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--neutral-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--neutral-800);
    }
    .section-body {
      padding: 0;
    }
    .tips-box {
      background: var(--primary-50);
      border: 1px solid var(--primary-200);
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 24px;
    }
    .tips-box h4 {
      color: var(--primary-800);
      font-size: 14px;
      margin-bottom: 8px;
    }
    .tips-box p {
      color: var(--primary-700);
      font-size: 13px;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="admin-wrapper">
    <!-- Sidebar -->
    <aside class="admin-sidebar">
      <div class="admin-logo">
        <div class="admin-logo-icon">è±«</div>
        <div class="admin-logo-text">åŸä¹¡å­¦æ ¡å…±åŒä½“<br>ç®¡ç†åå°</div>
      </div>

      <nav class="admin-menu">
        <div class="admin-menu-group">
          <a href="index.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“Š</span>
            å·¥ä½œå°
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç”¨æˆ·ç®¡ç†</div>
          <a href="users.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ‘¥</span>
            å­¦æ ¡ç®¡ç†å‘˜
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">å†…å®¹ç®¡ç†</div>
          <a href="about.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“–</span>
            é¡¹ç›®ä»‹ç»
          </a>
          <a href="news.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“°</span>
            æ–°é—»èµ„è®¯
          </a>
          <a href="policy.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“‹</span>
            æ”¿ç­–æ–‡ä»¶
          </a>
          <a href="resources.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“š</span>
            èµ„æºå…±äº«
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç¤ºèŒƒæ ¡ç®¡ç†</div>
          <a href="schools.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ«</span>
            ç¤ºèŒƒæ ¡åˆ—è¡¨
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç³»ç»Ÿè®¾ç½®</div>
          <a href="navigation.html" class="admin-menu-item active">
            <span class="admin-menu-icon">ğŸ§­</span>
            å¯¼èˆªç®¡ç†
          </a>
          <a href="settings.html" class="admin-menu-item">
            <span class="admin-menu-icon">âš™ï¸</span>
            åŸºç¡€é…ç½®
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
      <!-- Header -->
      <header class="admin-header">
        <div class="admin-breadcrumb">
          é¦–é¡µ / ç³»ç»Ÿè®¾ç½® / å¯¼èˆªç®¡ç†
        </div>
        <div class="admin-user">
          <span style="font-size: 14px; color: var(--neutral-600);">æ¬¢è¿ï¼Œè¶…çº§ç®¡ç†å‘˜</span>
          <div class="admin-avatar">ç®¡</div>
          <a href="../pages/admin-login.html" style="font-size: 14px; color: var(--accent-600);">é€€å‡º</a>
        </div>
      </header>

      <!-- Content -->
      <div class="admin-content">
        <div class="admin-page-header">
          <h1 class="admin-page-title">å¯¼èˆªç®¡ç†</h1>
          <p class="admin-page-desc">ç®¡ç†å®˜ç½‘é¡¶éƒ¨å¯¼èˆªæ å’Œåº•éƒ¨å¿«æ·é“¾æ¥</p>
        </div>

        <div class="tips-box">
          <h4>æ“ä½œæç¤º</h4>
          <p>æ‹–æ‹½å¯¼èˆªé¡¹å¯ä»¥è°ƒæ•´æ˜¾ç¤ºé¡ºåºï¼Œç‚¹å‡»"ç¼–è¾‘"å¯ä»¥ä¿®æ”¹å¯¼èˆªåç§°å’Œé“¾æ¥åœ°å€ï¼Œç‚¹å‡»çŠ¶æ€å¼€å…³å¯ä»¥æ§åˆ¶å¯¼èˆªçš„æ˜¾ç¤º/éšè—ã€‚</p>
        </div>

        <!-- Main Navigation -->
        <div class="section-card">
          <div class="section-header">
            <div class="section-title">é¡¶éƒ¨ä¸»å¯¼èˆª</div>
            <button class="btn btn-primary" onclick="openAddNavModal('main')">+ æ·»åŠ å¯¼èˆª</button>
          </div>
          <div class="section-body">
            <div class="nav-list" id="mainNavList">
              <div class="nav-item" data-id="1">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">é¦–é¡µ</div>
                  <div class="nav-url">/index.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(1)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" disabled title="é¦–é¡µä¸å¯åˆ é™¤">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="2">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">é¡¹ç›®ä»‹ç»</div>
                  <div class="nav-url">/pages/about.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(2)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(2)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="3">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">æ”¿ç­–æ–‡ä»¶</div>
                  <div class="nav-url">/pages/policy.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(3)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(3)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="4">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">ç¤ºèŒƒæ ¡å…±ä½“</div>
                  <div class="nav-url">/pages/schools.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(4)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(4)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="5">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">èµ„æºå…±äº«</div>
                  <div class="nav-url">/pages/resources.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(5)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(5)">åˆ é™¤</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer Quick Links -->
        <div class="section-card">
          <div class="section-header">
            <div class="section-title">åº•éƒ¨å¿«æ·é“¾æ¥</div>
            <button class="btn btn-primary" onclick="openAddNavModal('footer')">+ æ·»åŠ é“¾æ¥</button>
          </div>
          <div class="section-body">
            <div class="nav-list" id="footerNavList">
              <div class="nav-item" data-id="101">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">é¡¹ç›®ä»‹ç»</div>
                  <div class="nav-url">/pages/about.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(101)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(101)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="102">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">æ”¿ç­–æ–‡ä»¶</div>
                  <div class="nav-url">/pages/policy.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(102)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(102)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="103">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">ç¤ºèŒƒæ ¡å…±ä½“</div>
                  <div class="nav-url">/pages/schools.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(103)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(103)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="104">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">èµ„æºå…±äº«</div>
                  <div class="nav-url">/pages/resources.html</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(104)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(104)">åˆ é™¤</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- External Links -->
        <div class="section-card">
          <div class="section-header">
            <div class="section-title">å‹æƒ…é“¾æ¥</div>
            <button class="btn btn-primary" onclick="openAddNavModal('external')">+ æ·»åŠ é“¾æ¥</button>
          </div>
          <div class="section-body">
            <div class="nav-list" id="externalNavList">
              <div class="nav-item" data-id="201">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">æ²³å—çœæ•™è‚²å…</div>
                  <div class="nav-url">https://jyt.henan.gov.cn/</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(201)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(201)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="202">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">æ•™è‚²éƒ¨</div>
                  <div class="nav-url">https://www.moe.gov.cn/</div>
                </div>
                <span class="nav-status active">æ˜¾ç¤ºä¸­</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(202)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(202)">åˆ é™¤</button>
                </div>
              </div>
              <div class="nav-item" data-id="203">
                <span class="nav-drag">â‹®â‹®</span>
                <div class="nav-info">
                  <div class="nav-name">ä¸­å›½æ•™è‚²åœ¨çº¿</div>
                  <div class="nav-url">https://www.eol.cn/</div>
                </div>
                <span class="nav-status inactive">å·²éšè—</span>
                <div class="nav-actions">
                  <button class="admin-btn-sm admin-btn-outline" onclick="editNav(203)">ç¼–è¾‘</button>
                  <button class="admin-btn-sm admin-btn-danger" onclick="confirmDeleteNav(203)">åˆ é™¤</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Save Button -->
        <div style="display: flex; gap: 16px; justify-content: center; margin-top: 32px;">
          <button class="btn btn-outline" style="padding: 12px 32px;" onclick="resetOrder()">é‡ç½®æ’åº</button>
          <button class="btn btn-primary" style="padding: 12px 32px;" onclick="saveOrder()">ä¿å­˜æ’åº</button>
          <button class="btn btn-accent" style="padding: 12px 32px;" onclick="publishNav()">å‘å¸ƒæ›´æ–°</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Add/Edit Navigation Modal -->
  <div class="modal-overlay" id="navModal">
    <div class="modal" style="max-width: 500px;">
      <div class="modal-header">
        <h3 class="modal-title" id="navModalTitle">æ·»åŠ å¯¼èˆª</h3>
        <button class="modal-close" onclick="closeNavModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="navForm">
          <input type="hidden" id="navId">
          <input type="hidden" id="navType">
          <div class="form-group">
            <label class="form-label">å¯¼èˆªåç§° <span style="color: red;">*</span></label>
            <input type="text" class="form-input" id="navName" placeholder="è¯·è¾“å…¥å¯¼èˆªåç§°" required>
          </div>
          <div class="form-group">
            <label class="form-label">é“¾æ¥ç±»å‹ <span style="color: red;">*</span></label>
            <div style="display: flex; gap: 16px;">
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navLinkType" value="internal" checked onchange="toggleNavLinkType('internal')"> ç«™å†…é“¾æ¥
              </label>
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navLinkType" value="external" onchange="toggleNavLinkType('external')"> å¤–éƒ¨é“¾æ¥
              </label>
            </div>
          </div>
          <div class="form-group" id="internalLinkGroup">
            <label class="form-label">ç«™å†…é¡µé¢ <span style="color: red;">*</span></label>
            <select class="form-input" id="navInternalUrl">
              <option value="">è¯·é€‰æ‹©é¡µé¢</option>
              <option value="/index.html">é¦–é¡µ</option>
              <option value="/pages/about.html">é¡¹ç›®ä»‹ç»</option>
              <option value="/pages/policy.html">æ”¿ç­–æ–‡ä»¶</option>
              <option value="/pages/schools.html">ç¤ºèŒƒæ ¡å…±ä½“</option>
              <option value="/pages/resources.html">èµ„æºå…±äº«</option>
              <option value="/pages/news.html">æ–°é—»èµ„è®¯</option>
              <option value="/pages/search.html">æœç´¢é¡µé¢</option>
            </select>
          </div>
          <div class="form-group" id="externalLinkGroup" style="display: none;">
            <label class="form-label">å¤–éƒ¨é“¾æ¥ <span style="color: red;">*</span></label>
            <input type="url" class="form-input" id="navExternalUrl" placeholder="è¯·è¾“å…¥å®Œæ•´URLï¼Œå¦‚ https://example.com">
            <p style="font-size: 12px; color: var(--neutral-500); margin-top: 4px;">å¤–éƒ¨é“¾æ¥å°†åœ¨æ–°çª—å£æ‰“å¼€</p>
          </div>
          <div class="form-group">
            <label class="form-label">æ˜¾ç¤ºçŠ¶æ€</label>
            <div style="display: flex; gap: 16px;">
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navStatus" value="active" checked> æ˜¾ç¤º
              </label>
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navStatus" value="inactive"> éšè—
              </label>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">æ‰“å¼€æ–¹å¼</label>
            <div style="display: flex; gap: 16px;">
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navTarget" value="_self" checked> å½“å‰çª—å£
              </label>
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="navTarget" value="_blank"> æ–°çª—å£
              </label>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">æ˜¯å¦æœ‰å­èœå•</label>
            <div style="display: flex; gap: 16px;">
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="hasSubmenu" value="no" checked onchange="toggleSubmenuSection(false)"> æ— å­èœå•
              </label>
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="hasSubmenu" value="yes" onchange="toggleSubmenuSection(true)"> æœ‰å­èœå•
              </label>
            </div>
          </div>
          <div class="form-group" id="submenuSection" style="display: none;">
            <label class="form-label">å­èœå•é¡¹</label>
            <div id="submenuItems" style="display: flex; flex-direction: column; gap: 10px;">
              <div class="submenu-item" style="display: flex; gap: 10px; align-items: center;">
                <input type="text" class="form-input" placeholder="å­èœå•åç§°" style="flex: 1;">
                <input type="text" class="form-input" placeholder="é“¾æ¥åœ°å€" style="flex: 1;">
                <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeSubmenuItem(this)">åˆ é™¤</button>
              </div>
            </div>
            <button type="button" class="btn btn-outline" style="margin-top: 10px; padding: 8px 16px;" onclick="addSubmenuItem()">+ æ·»åŠ å­èœå•</button>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeNavModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="saveNav()">ä¿å­˜</button>
      </div>
    </div>
  </div>

  <!-- Delete Confirm Modal -->
  <div class="modal-overlay" id="deleteModal">
    <div class="modal" style="max-width: 400px;">
      <div class="modal-header">
        <h3 class="modal-title">ç¡®è®¤åˆ é™¤</h3>
        <button class="modal-close" onclick="closeDeleteModal()">&times;</button>
      </div>
      <div class="modal-body" style="text-align: center; padding: 30px 20px;">
        <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
        <p style="font-size: 16px; color: var(--neutral-700); margin-bottom: 8px;">ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¯¼èˆªé¡¹å—ï¼Ÿ</p>
        <p style="font-size: 14px; color: var(--neutral-500);">åˆ é™¤åå°†ä»å‰å°å¯¼èˆªä¸­ç§»é™¤</p>
      </div>
      <div class="modal-footer" style="justify-content: center;">
        <button class="btn btn-outline" onclick="closeDeleteModal()">å–æ¶ˆ</button>
        <button class="btn btn-danger" onclick="doDeleteNav()">ç¡®è®¤åˆ é™¤</button>
      </div>
    </div>
  </div>

  <script>
    let currentNavType = 'main';
    let deleteNavId = null;

    function toggleNavLinkType(type) {
      const internalGroup = document.getElementById('internalLinkGroup');
      const externalGroup = document.getElementById('externalLinkGroup');
      if (type === 'external') {
        internalGroup.style.display = 'none';
        externalGroup.style.display = 'block';
      } else {
        internalGroup.style.display = 'block';
        externalGroup.style.display = 'none';
      }
    }

    function openAddNavModal(type) {
      currentNavType = type;
      document.getElementById('navModalTitle').textContent = 'æ·»åŠ å¯¼èˆª';
      document.getElementById('navForm').reset();
      document.getElementById('navId').value = '';
      document.getElementById('navType').value = type;
      toggleNavLinkType('internal');
      document.getElementById('navModal').classList.add('active');
    }

    function editNav(id) {
      document.getElementById('navModalTitle').textContent = 'ç¼–è¾‘å¯¼èˆª';
      document.getElementById('navId').value = id;
      // In real app, would load nav data here
      document.getElementById('navModal').classList.add('active');
    }

    function closeNavModal() {
      document.getElementById('navModal').classList.remove('active');
    }

    function saveNav() {
      const name = document.getElementById('navName').value;
      if (!name) {
        alert('è¯·å¡«å†™å¯¼èˆªåç§°');
        return;
      }
      showToast('å¯¼èˆªä¿å­˜æˆåŠŸï¼');
      closeNavModal();
    }

    // å­èœå•åŠŸèƒ½
    function toggleSubmenuSection(show) {
      document.getElementById('submenuSection').style.display = show ? 'block' : 'none';
    }

    function addSubmenuItem() {
      const container = document.getElementById('submenuItems');
      const div = document.createElement('div');
      div.className = 'submenu-item';
      div.style.cssText = 'display: flex; gap: 10px; align-items: center;';
      div.innerHTML = `
        <input type="text" class="form-input" placeholder="å­èœå•åç§°" style="flex: 1;">
        <input type="text" class="form-input" placeholder="é“¾æ¥åœ°å€" style="flex: 1;">
        <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeSubmenuItem(this)">åˆ é™¤</button>
      `;
      container.appendChild(div);
    }

    function removeSubmenuItem(btn) {
      btn.parentElement.remove();
    }

    function confirmDeleteNav(id) {
      deleteNavId = id;
      document.getElementById('deleteModal').classList.add('active');
    }

    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.remove('active');
      deleteNavId = null;
    }

    function doDeleteNav() {
      showToast('å¯¼èˆªå·²åˆ é™¤');
      closeDeleteModal();
    }

    function resetOrder() {
      showToast('æ’åºå·²é‡ç½®');
    }

    function saveOrder() {
      showToast('æ’åºä¿å­˜æˆåŠŸï¼');
    }

    function publishNav() {
      if (confirm('ç¡®å®šè¦å‘å¸ƒå¯¼èˆªæ›´æ–°å—ï¼Ÿå‘å¸ƒåå°†ç«‹å³åœ¨å‰å°ç”Ÿæ•ˆã€‚')) {
        showToast('å¯¼èˆªå·²å‘å¸ƒæ›´æ–°ï¼');
      }
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 10);
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // Simple drag and drop simulation
    document.querySelectorAll('.nav-drag').forEach(handle => {
      handle.addEventListener('mousedown', function() {
        this.style.cursor = 'grabbing';
      });
      handle.addEventListener('mouseup', function() {
        this.style.cursor = 'move';
      });
    });
  </script>
</body>
</html>
