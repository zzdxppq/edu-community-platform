<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>示范校管理 - 管理后台</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/admin-modal.css">
</head>
<body>
  <div class="admin-wrapper">
    <!-- Sidebar -->
    <aside class="admin-sidebar">
      <div class="admin-logo">
        <div class="admin-logo-icon">豫</div>
        <div class="admin-logo-text">城乡学校共同体<br>管理后台</div>
      </div>
      <nav class="admin-menu">
        <div class="admin-menu-group">
          <a href="index.html" class="admin-menu-item">
            <span class="admin-menu-icon">📊</span>
            工作台
          </a>
        </div>
        <div class="admin-menu-group">
          <div class="admin-menu-title">用户管理</div>
          <a href="users.html" class="admin-menu-item">
            <span class="admin-menu-icon">👥</span>
            学校管理员
          </a>
        </div>
        <div class="admin-menu-group">
          <div class="admin-menu-title">内容管理</div>
          <a href="about.html" class="admin-menu-item">
            <span class="admin-menu-icon">📖</span>
            项目介绍
          </a>
          <a href="news.html" class="admin-menu-item">
            <span class="admin-menu-icon">📰</span>
            新闻资讯
          </a>
          <a href="policy.html" class="admin-menu-item">
            <span class="admin-menu-icon">📋</span>
            政策文件
          </a>
          <a href="resources.html" class="admin-menu-item">
            <span class="admin-menu-icon">📚</span>
            资源共享
          </a>
        </div>
        <div class="admin-menu-group">
          <div class="admin-menu-title">示范校管理</div>
          <a href="schools.html" class="admin-menu-item active">
            <span class="admin-menu-icon">🏫</span>
            示范校列表
          </a>
        </div>
        <div class="admin-menu-group">
          <div class="admin-menu-title">系统设置</div>
          <a href="navigation.html" class="admin-menu-item">
            <span class="admin-menu-icon">🧭</span>
            导航管理
          </a>
          <a href="settings.html" class="admin-menu-item">
            <span class="admin-menu-icon">⚙️</span>
            基础配置
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
      <header class="admin-header">
        <div class="admin-breadcrumb">示范校管理 / 示范校列表</div>
        <div class="admin-user">
          <span style="font-size: 14px; color: var(--neutral-600);">欢迎，超级管理员</span>
          <div class="admin-avatar">管</div>
          <a href="../pages/admin-login.html" style="font-size: 14px; color: var(--accent-600);">退出</a>
        </div>
      </header>

      <div class="admin-content">
        <div class="admin-page-header">
          <h1 class="admin-page-title">示范校管理</h1>
          <p class="admin-page-desc">管理城乡学校共同体示范校信息</p>
        </div>

        <!-- Stats -->
        <div class="admin-stats" style="margin-bottom: 20px;">
          <div class="admin-stat-card">
            <div class="admin-stat-title">示范校总数</div>
            <div class="admin-stat-value">32</div>
            <div class="admin-stat-change">覆盖全省18个地市</div>
          </div>
          <div class="admin-stat-card">
            <div class="admin-stat-title">城镇学校</div>
            <div class="admin-stat-value">32</div>
            <div class="admin-stat-change">中心校</div>
          </div>
          <div class="admin-stat-card">
            <div class="admin-stat-title">乡村学校</div>
            <div class="admin-stat-value">156</div>
            <div class="admin-stat-change">成员校</div>
          </div>
          <div class="admin-stat-card">
            <div class="admin-stat-title">教师参与</div>
            <div class="admin-stat-value">2,450</div>
            <div class="admin-stat-change">累计人数</div>
          </div>
        </div>

        <!-- Filter -->
        <div class="admin-card" style="margin-bottom: 20px;">
          <div class="admin-card-body" style="display: flex; gap: 16px; align-items: center; flex-wrap: wrap;">
            <div style="display: flex; align-items: center; gap: 8px;">
              <label style="font-size: 14px; color: var(--neutral-600);">地区：</label>
              <select class="form-input" style="width: 130px; padding: 8px 12px;" id="regionFilter">
                <option value="">全部地区</option>
                <option value="郑州市">郑州市</option>
                <option value="信阳市">信阳市</option>
                <option value="濮阳市">濮阳市</option>
                <option value="周口市">周口市</option>
                <option value="南阳市">南阳市</option>
                <option value="洛阳市">洛阳市</option>
              </select>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
              <label style="font-size: 14px; color: var(--neutral-600);">批次：</label>
              <select class="form-input" style="width: 120px; padding: 8px 12px;" id="batchFilter">
                <option value="">全部批次</option>
                <option value="第一批">第一批</option>
                <option value="第二批">第二批</option>
              </select>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
              <label style="font-size: 14px; color: var(--neutral-600);">状态：</label>
              <select class="form-input" style="width: 100px; padding: 8px 12px;" id="statusFilter">
                <option value="">全部</option>
                <option value="正常">正常</option>
                <option value="筹建中">筹建中</option>
              </select>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
              <input type="text" class="form-input" style="width: 180px; padding: 8px 12px;" placeholder="搜索学校名称..." id="searchInput">
            </div>
            <button class="btn btn-primary" style="padding: 8px 20px; font-size: 14px;" onclick="handleSearch()">搜索</button>
            <button class="btn btn-outline" style="padding: 8px 20px; font-size: 14px;" onclick="resetFilter()">重置</button>
          </div>
        </div>

        <div class="admin-card">
          <div class="admin-card-header">
            <h3 class="admin-card-title">示范校列表 (共<span id="totalCount">32</span>所)</h3>
            <button class="btn btn-primary" style="padding: 8px 20px; font-size: 14px;" onclick="openAddModal()">+ 添加示范校</button>
          </div>
          <div class="admin-card-body" style="padding: 0;">
            <table class="admin-table">
              <thead>
                <tr>
                  <th style="width: 20%;">学校名称</th>
                  <th>地区</th>
                  <th>批次</th>
                  <th>成员校</th>
                  <th>官网显示</th>
                  <th>状态</th>
                  <th style="width: 25%;">操作</th>
                </tr>
              </thead>
              <tbody id="schoolTableBody">
                <tr>
                  <td>
                    <div style="display: flex; align-items: center; gap: 10px;">
                      <div style="width: 40px; height: 40px; background: var(--primary-100); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🏫</div>
                      <div>
                        <div style="font-weight: 600;">信阳董家河小学中心校</div>
                        <div style="font-size: 12px; color: var(--neutral-500);">排序: 1</div>
                      </div>
                    </div>
                  </td>
                  <td>信阳市</td>
                  <td><span class="admin-badge admin-badge-info">第一批</span></td>
                  <td>5所</td>
                  <td><span class="admin-badge admin-badge-success">显示</span></td>
                  <td><span class="admin-badge admin-badge-success">正常</span></td>
                  <td class="admin-actions">
                    <button class="admin-btn-sm admin-btn-outline" onclick="viewSchool(1)">详情</button>
                    <button class="admin-btn-sm admin-btn-outline" onclick="openEditModal(1)">编辑</button>
                    <button class="admin-btn-sm admin-btn-primary" onclick="loginAsSchool(1)">登录后台</button>
                    <button class="admin-btn-sm admin-btn-danger" onclick="confirmDelete(1)">删除</button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div style="display: flex; align-items: center; gap: 10px;">
                      <div style="width: 40px; height: 40px; background: var(--accent-100); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🏫</div>
                      <div>
                        <div style="font-weight: 600;">濮阳市开德小学</div>
                        <div style="font-size: 12px; color: var(--neutral-500);">排序: 2</div>
                      </div>
                    </div>
                  </td>
                  <td>濮阳市</td>
                  <td><span class="admin-badge admin-badge-info">第一批</span></td>
                  <td>4所</td>
                  <td><span class="admin-badge admin-badge-success">显示</span></td>
                  <td><span class="admin-badge admin-badge-success">正常</span></td>
                  <td class="admin-actions">
                    <button class="admin-btn-sm admin-btn-outline" onclick="viewSchool(2)">详情</button>
                    <button class="admin-btn-sm admin-btn-outline" onclick="openEditModal(2)">编辑</button>
                    <button class="admin-btn-sm admin-btn-primary" onclick="loginAsSchool(2)">登录后台</button>
                    <button class="admin-btn-sm admin-btn-danger" onclick="confirmDelete(2)">删除</button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div style="display: flex; align-items: center; gap: 10px;">
                      <div style="width: 40px; height: 40px; background: var(--success-100); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🏫</div>
                      <div>
                        <div style="font-weight: 600;">扶沟县实验小学</div>
                        <div style="font-size: 12px; color: var(--neutral-500);">排序: 3</div>
                      </div>
                    </div>
                  </td>
                  <td>周口市</td>
                  <td><span class="admin-badge admin-badge-info">第一批</span></td>
                  <td>6所</td>
                  <td><span class="admin-badge admin-badge-success">显示</span></td>
                  <td><span class="admin-badge admin-badge-success">正常</span></td>
                  <td class="admin-actions">
                    <button class="admin-btn-sm admin-btn-outline" onclick="viewSchool(3)">详情</button>
                    <button class="admin-btn-sm admin-btn-outline" onclick="openEditModal(3)">编辑</button>
                    <button class="admin-btn-sm admin-btn-primary" onclick="loginAsSchool(3)">登录后台</button>
                    <button class="admin-btn-sm admin-btn-danger" onclick="confirmDelete(3)">删除</button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div style="display: flex; align-items: center; gap: 10px;">
                      <div style="width: 40px; height: 40px; background: var(--warning-100); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🏫</div>
                      <div>
                        <div style="font-weight: 600;">南阳市第一实验小学</div>
                        <div style="font-size: 12px; color: var(--neutral-500);">排序: 7</div>
                      </div>
                    </div>
                  </td>
                  <td>南阳市</td>
                  <td><span class="admin-badge admin-badge-success">第二批</span></td>
                  <td>3所</td>
                  <td><span class="admin-badge admin-badge-warning">隐藏</span></td>
                  <td><span class="admin-badge admin-badge-warning">筹建中</span></td>
                  <td class="admin-actions">
                    <button class="admin-btn-sm admin-btn-outline" onclick="viewSchool(4)">详情</button>
                    <button class="admin-btn-sm admin-btn-outline" onclick="openEditModal(4)">编辑</button>
                    <button class="admin-btn-sm admin-btn-primary" onclick="loginAsSchool(4)">登录后台</button>
                    <button class="admin-btn-sm admin-btn-danger" onclick="confirmDelete(4)">删除</button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div style="display: flex; align-items: center; gap: 10px;">
                      <div style="width: 40px; height: 40px; background: var(--primary-100); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🏫</div>
                      <div>
                        <div style="font-weight: 600;">洛阳市涧西区实验小学</div>
                        <div style="font-size: 12px; color: var(--neutral-500);">排序: 8</div>
                      </div>
                    </div>
                  </td>
                  <td>洛阳市</td>
                  <td><span class="admin-badge admin-badge-success">第二批</span></td>
                  <td>4所</td>
                  <td><span class="admin-badge admin-badge-warning">隐藏</span></td>
                  <td><span class="admin-badge admin-badge-warning">筹建中</span></td>
                  <td class="admin-actions">
                    <button class="admin-btn-sm admin-btn-outline" onclick="viewSchool(5)">详情</button>
                    <button class="admin-btn-sm admin-btn-outline" onclick="openEditModal(5)">编辑</button>
                    <button class="admin-btn-sm admin-btn-primary" onclick="loginAsSchool(5)">登录后台</button>
                    <button class="admin-btn-sm admin-btn-danger" onclick="confirmDelete(5)">删除</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Pagination -->
        <div class="pagination" style="margin-top: 20px;">
          <span class="page-item disabled">&lt;</span>
          <span class="page-item active">1</span>
          <span class="page-item" onclick="goToPage(2)">2</span>
          <span class="page-item" onclick="goToPage(3)">3</span>
          <span class="page-item" onclick="goToPage(4)">4</span>
          <span class="page-item" onclick="goToPage(2)">&gt;</span>
        </div>
      </div>
    </main>
  </div>

  <!-- Add/Edit Modal -->
  <div class="modal-overlay" id="schoolModal">
    <div class="modal" style="max-width: 700px;">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">添加示范校</h3>
        <button class="modal-close" onclick="closeModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="schoolForm">
          <input type="hidden" id="schoolId">
          <div class="form-group">
            <label class="form-label">学校名称 <span style="color: red;">*</span></label>
            <input type="text" class="form-input" id="schoolName" placeholder="请输入学校名称" required>
          </div>
          <div class="form-row">
            <div class="form-group" style="flex: 1;">
              <label class="form-label">所在地区 <span style="color: red;">*</span></label>
              <select class="form-input" id="schoolRegion" required>
                <option value="">请选择地区</option>
                <option value="郑州市">郑州市</option>
                <option value="信阳市">信阳市</option>
                <option value="濮阳市">濮阳市</option>
                <option value="周口市">周口市</option>
                <option value="南阳市">南阳市</option>
                <option value="洛阳市">洛阳市</option>
                <option value="安阳市">安阳市</option>
                <option value="新乡市">新乡市</option>
              </select>
            </div>
            <div class="form-group" style="flex: 1;">
              <label class="form-label">入选批次 <span style="color: red;">*</span></label>
              <select class="form-input" id="schoolBatch" required>
                <option value="">请选择批次</option>
                <option value="第一批">第一批</option>
                <option value="第二批">第二批</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">详细地址</label>
            <input type="text" class="form-input" id="schoolAddress" placeholder="请输入详细地址">
          </div>
          <div class="form-row">
            <div class="form-group" style="flex: 1;">
              <label class="form-label">联系电话</label>
              <input type="text" class="form-input" id="schoolPhone" placeholder="请输入联系电话">
            </div>
            <div class="form-group" style="flex: 1;">
              <label class="form-label">管理员账号</label>
              <select class="form-input" id="schoolAdmin">
                <option value="">请选择管理员</option>
                <option value="1">李老师 (liteacher)</option>
                <option value="2">王老师 (wangteacher)</option>
                <option value="3">张老师 (zhangteacher)</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">学校简介</label>
            <textarea class="form-input" id="schoolIntro" rows="4" placeholder="请输入学校简介"></textarea>
          </div>
          <div class="form-group">
            <label class="form-label">成员校</label>
            <div id="memberSchools" style="display: flex; flex-direction: column; gap: 10px;">
              <div class="member-school-item" style="display: flex; gap: 10px; align-items: center;">
                <input type="text" class="form-input" placeholder="成员校名称" style="flex: 1;">
                <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
              </div>
            </div>
            <button type="button" class="btn btn-outline" style="margin-top: 10px; padding: 8px 16px;" onclick="addMemberSchool()">+ 添加成员校</button>
          </div>
          <div class="form-row">
            <div class="form-group" style="flex: 1;">
              <label class="form-label">官网显示</label>
              <div style="display: flex; gap: 20px;">
                <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                  <input type="radio" name="schoolVisible" value="1" checked> 显示
                </label>
                <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                  <input type="radio" name="schoolVisible" value="0"> 隐藏
                </label>
              </div>
            </div>
            <div class="form-group" style="flex: 1;">
              <label class="form-label">排序</label>
              <input type="number" class="form-input" id="schoolSortOrder" placeholder="数值越小越靠前" value="1" min="1">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">状态</label>
            <div style="display: flex; gap: 20px;">
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="schoolStatus" value="正常" checked> 正常运行
              </label>
              <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                <input type="radio" name="schoolStatus" value="筹建中"> 筹建中
              </label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeModal()">取消</button>
        <button class="btn btn-primary" onclick="saveSchool()">保存</button>
      </div>
    </div>
  </div>

  <!-- View Detail Modal -->
  <div class="modal-overlay" id="detailModal">
    <div class="modal" style="max-width: 700px;">
      <div class="modal-header">
        <h3 class="modal-title">示范校详情</h3>
        <button class="modal-close" onclick="closeDetailModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div style="display: flex; gap: 20px; margin-bottom: 24px;">
          <div style="width: 80px; height: 80px; background: var(--primary-100); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 40px;">🏫</div>
          <div style="flex: 1;">
            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">信阳董家河小学中心校</h3>
            <p style="color: var(--neutral-600); font-size: 14px;">城乡学校共同体 · 第一批示范校</p>
            <div style="display: flex; gap: 12px; margin-top: 12px;">
              <span class="admin-badge admin-badge-success">正常运行</span>
              <span class="admin-badge admin-badge-info">信阳市</span>
            </div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
          <div style="background: var(--neutral-100); padding: 16px; border-radius: 8px;">
            <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">成员校数量</div>
            <div style="font-size: 24px; font-weight: 700; color: var(--primary-800);">5所</div>
          </div>
          <div style="background: var(--neutral-100); padding: 16px; border-radius: 8px;">
            <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">参与教师</div>
            <div style="font-size: 24px; font-weight: 700; color: var(--accent-600);">126人</div>
          </div>
          <div style="background: var(--neutral-100); padding: 16px; border-radius: 8px;">
            <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">发布动态</div>
            <div style="font-size: 24px; font-weight: 700; color: var(--success-600);">23条</div>
          </div>
          <div style="background: var(--neutral-100); padding: 16px; border-radius: 8px;">
            <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">共享资源</div>
            <div style="font-size: 24px; font-weight: 700; color: var(--warning-600);">45个</div>
          </div>
        </div>

        <div style="margin-bottom: 20px;">
          <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 12px;">成员校列表</h4>
          <div style="display: flex; flex-direction: column; gap: 8px;">
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--neutral-50); border: 1px solid var(--neutral-200); border-radius: 8px;">
              <span>董家河镇中心小学</span>
              <span style="color: var(--neutral-500);">城镇小学</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--neutral-50); border: 1px solid var(--neutral-200); border-radius: 8px;">
              <span>绿之风希望小学</span>
              <span style="color: var(--neutral-500);">乡村小学</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--neutral-50); border: 1px solid var(--neutral-200); border-radius: 8px;">
              <span>白雀园镇中心小学</span>
              <span style="color: var(--neutral-500);">乡村小学</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--neutral-50); border: 1px solid var(--neutral-200); border-radius: 8px;">
              <span>泼陂河镇第一小学</span>
              <span style="color: var(--neutral-500);">乡村小学</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--neutral-50); border: 1px solid var(--neutral-200); border-radius: 8px;">
              <span>龙山乡中心小学</span>
              <span style="color: var(--neutral-500);">乡村小学</span>
            </div>
          </div>
        </div>

        <div>
          <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 12px;">联系信息</h4>
          <div style="display: grid; grid-template-columns: 100px 1fr; gap: 8px; font-size: 14px;">
            <span style="color: var(--neutral-600);">管理员：</span>
            <span>李老师</span>
            <span style="color: var(--neutral-600);">联系电话：</span>
            <span>0376-XXXXXXX</span>
            <span style="color: var(--neutral-600);">地址：</span>
            <span>信阳市浉河区董家河镇</span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeDetailModal()">关闭</button>
        <button class="btn btn-primary" onclick="openEditModal(1); closeDetailModal();">编辑信息</button>
      </div>
    </div>
  </div>

  <!-- Delete Confirm Modal -->
  <div class="modal-overlay" id="deleteModal">
    <div class="modal" style="max-width: 400px;">
      <div class="modal-header">
        <h3 class="modal-title">确认删除</h3>
        <button class="modal-close" onclick="closeDeleteModal()">&times;</button>
      </div>
      <div class="modal-body" style="text-align: center; padding: 30px 20px;">
        <div style="font-size: 48px; margin-bottom: 16px;">⚠️</div>
        <p style="font-size: 16px; color: var(--neutral-700); margin-bottom: 8px;">确定要删除这所示范校吗？</p>
        <p style="font-size: 14px; color: var(--neutral-500);">删除后该校所有数据将被清除，无法恢复</p>
      </div>
      <div class="modal-footer" style="justify-content: center;">
        <button class="btn btn-outline" onclick="closeDeleteModal()">取消</button>
        <button class="btn btn-danger" onclick="doDelete()">确认删除</button>
      </div>
    </div>
  </div>

  <script>
    let deleteId = null;

    function openAddModal() {
      document.getElementById('modalTitle').textContent = '添加示范校';
      document.getElementById('schoolForm').reset();
      document.getElementById('schoolId').value = '';
      // 重置成员校列表
      document.getElementById('memberSchools').innerHTML = `
        <div class="member-school-item" style="display: flex; gap: 10px; align-items: center;">
          <input type="text" class="form-input" placeholder="成员校名称" style="flex: 1;">
          <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
        </div>
      `;
      document.getElementById('schoolModal').classList.add('active');
    }

    function openEditModal(id) {
      document.getElementById('modalTitle').textContent = '编辑示范校';
      document.getElementById('schoolId').value = id;
      // 模拟加载数据
      document.getElementById('schoolName').value = '信阳董家河小学中心校';
      document.getElementById('schoolRegion').value = '信阳市';
      document.getElementById('schoolBatch').value = '第一批';
      document.getElementById('schoolAddress').value = '信阳市浉河区董家河镇';
      document.getElementById('schoolPhone').value = '0376-XXXXXXX';
      document.getElementById('schoolAdmin').value = '1';
      document.getElementById('schoolIntro').value = '信阳董家河小学中心校是河南省首批城乡学校共同体示范校之一...';
      document.getElementById('memberSchools').innerHTML = `
        <div class="member-school-item" style="display: flex; gap: 10px; align-items: center;">
          <input type="text" class="form-input" value="董家河镇中心小学" style="flex: 1;">
          <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
        </div>
        <div class="member-school-item" style="display: flex; gap: 10px; align-items: center;">
          <input type="text" class="form-input" value="绿之风希望小学" style="flex: 1;">
          <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
        </div>
        <div class="member-school-item" style="display: flex; gap: 10px; align-items: center;">
          <input type="text" class="form-input" value="白雀园镇中心小学" style="flex: 1;">
          <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
        </div>
      `;
      document.getElementById('schoolModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('schoolModal').classList.remove('active');
    }

    function addMemberSchool() {
      const container = document.getElementById('memberSchools');
      const div = document.createElement('div');
      div.className = 'member-school-item';
      div.style.cssText = 'display: flex; gap: 10px; align-items: center;';
      div.innerHTML = `
        <input type="text" class="form-input" placeholder="成员校名称" style="flex: 1;">
        <button type="button" class="btn btn-outline" style="padding: 8px 12px;" onclick="removeMemberSchool(this)">删除</button>
      `;
      container.appendChild(div);
    }

    function removeMemberSchool(btn) {
      btn.parentElement.remove();
    }

    function saveSchool() {
      const name = document.getElementById('schoolName').value;
      const region = document.getElementById('schoolRegion').value;
      const batch = document.getElementById('schoolBatch').value;

      if (!name || !region || !batch) {
        alert('请填写必填项');
        return;
      }

      const id = document.getElementById('schoolId').value;
      if (id) {
        showToast('示范校信息更新成功！');
      } else {
        showToast('示范校添加成功！');
      }
      closeModal();
    }

    function viewSchool(id) {
      document.getElementById('detailModal').classList.add('active');
    }

    function closeDetailModal() {
      document.getElementById('detailModal').classList.remove('active');
    }

    function confirmDelete(id) {
      deleteId = id;
      document.getElementById('deleteModal').classList.add('active');
    }

    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.remove('active');
      deleteId = null;
    }

    function doDelete() {
      showToast('示范校已删除');
      closeDeleteModal();
    }

    function handleSearch() {
      showToast('正在搜索...');
    }

    function resetFilter() {
      document.getElementById('searchInput').value = '';
      document.getElementById('regionFilter').value = '';
      document.getElementById('batchFilter').value = '';
      document.getElementById('statusFilter').value = '';
      showToast('筛选条件已重置');
    }

    function goToPage(page) {
      showToast('跳转到第 ' + page + ' 页');
    }

    function loginAsSchool(id) {
      if (confirm('确定要以学校管理员身份登录该校后台吗？\n\n此操作将被记录到系统日志。')) {
        showToast('正在登录学校管理后台...');
        setTimeout(() => {
          window.location.href = 'school-admin.html';
        }, 1000);
      }
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 10);
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }
  </script>
</body>
</html>
