<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç³»ç»Ÿè®¾ç½® - ç®¡ç†åå°</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/admin-modal.css">
</head>
<body>
  <div class="admin-wrapper">
    <!-- Sidebar -->
    <aside class="admin-sidebar">
      <div class="admin-logo">
        <div class="admin-logo-icon">è±«</div>
        <div class="admin-logo-text">åŸä¹¡å­¦æ ¡å…±åŒä½“<br>ç®¡ç†åå°</div>
      </div>
      <nav class="admin-menu">
        <div class="admin-menu-group">
          <a href="index.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“Š</span>
            å·¥ä½œå°
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç”¨æˆ·ç®¡ç†</div>
          <a href="users.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ‘¥</span>
            å­¦æ ¡ç®¡ç†å‘˜
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">å†…å®¹ç®¡ç†</div>
          <a href="carousel.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ–¼ï¸</span>
            è½®æ’­å›¾ç®¡ç†
          </a>
          <a href="about.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“–</span>
            é¡¹ç›®ä»‹ç»
          </a>
          <a href="news.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“°</span>
            æ–°é—»èµ„è®¯
          </a>
          <a href="policy.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“‹</span>
            æ”¿ç­–æ–‡ä»¶
          </a>
          <a href="resources.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“š</span>
            èµ„æºå…±äº«
          </a>
          <a href="reports.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ“Š</span>
            æœˆæŠ¥ç®¡ç†
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç¤ºèŒƒæ ¡ç®¡ç†</div>
          <a href="schools.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ«</span>
            ç¤ºèŒƒæ ¡åˆ—è¡¨
          </a>
        </div>

        <div class="admin-menu-group">
          <div class="admin-menu-title">ç³»ç»Ÿè®¾ç½®</div>
          <a href="navigation.html" class="admin-menu-item">
            <span class="admin-menu-icon">ğŸ§­</span>
            å¯¼èˆªç®¡ç†
          </a>
          <a href="settings.html" class="admin-menu-item active">
            <span class="admin-menu-icon">âš™ï¸</span>
            åŸºç¡€é…ç½®
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
      <header class="admin-header">
        <div class="admin-breadcrumb">ç³»ç»Ÿè®¾ç½® / åŸºç¡€é…ç½®</div>
        <div class="admin-user">
          <span style="font-size: 14px; color: var(--neutral-600);">æ¬¢è¿ï¼Œè¶…çº§ç®¡ç†å‘˜</span>
          <div class="admin-avatar">ç®¡</div>
          <a href="../pages/admin-login.html" style="font-size: 14px; color: var(--accent-600);">é€€å‡º</a>
        </div>
      </header>

      <div class="admin-content">
        <div class="admin-page-header">
          <h1 class="admin-page-title">ç³»ç»Ÿè®¾ç½®</h1>
          <p class="admin-page-desc">é…ç½®å¹³å°åŸºç¡€å‚æ•°å’ŒåŠŸèƒ½å¼€å…³</p>
        </div>

        <!-- Settings Tabs -->
        <div class="settings-tabs" style="display: flex; gap: 0; margin-bottom: 24px; border-bottom: 2px solid var(--neutral-200);">
          <button class="settings-tab active" onclick="switchTab('basic')" id="tab-basic">åŸºç¡€è®¾ç½®</button>
          <button class="settings-tab" onclick="switchTab('sensitive')" id="tab-sensitive">æ•æ„Ÿè¯ç®¡ç†</button>
          <button class="settings-tab" onclick="switchTab('backup')" id="tab-backup">æ•°æ®å¤‡ä»½</button>
        </div>

        <!-- Basic Settings -->
        <div class="settings-panel" id="panel-basic">
          <div class="admin-card" style="margin-bottom: 24px;">
            <div class="admin-card-header">
              <h3 class="admin-card-title">ç½‘ç«™åŸºç¡€ä¿¡æ¯</h3>
            </div>
            <div class="admin-card-body">
              <form id="basicForm">
                <div class="form-group">
                  <label class="form-label">ç½‘ç«™åç§°</label>
                  <input type="text" class="form-input" value="æ²³å—åŸä¹¡å­¦æ ¡å…±åŒä½“å‘å±•å¹³å°" id="siteName">
                </div>
                <div class="form-group">
                  <label class="form-label">ç½‘ç«™å‰¯æ ‡é¢˜</label>
                  <input type="text" class="form-input" value="ä¿ƒè¿›åŸä¹¡æ•™è‚²å‡è¡¡å‘å±•ï¼Œå…±äº«ä¼˜è´¨æ•™è‚²èµ„æº" id="siteSlogan">
                </div>
                <div class="form-row">
                  <div class="form-group" style="flex: 1;">
                    <label class="form-label">è”ç³»ç”µè¯</label>
                    <input type="text" class="form-input" value="0371-XXXXXXXX" id="contactPhone">
                  </div>
                  <div class="form-group" style="flex: 1;">
                    <label class="form-label">è”ç³»é‚®ç®±</label>
                    <input type="email" class="form-input" value="contact@example.com" id="contactEmail">
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">å¤‡æ¡ˆä¿¡æ¯</label>
                  <input type="text" class="form-input" value="è±«ICPå¤‡XXXXXXXXå·" id="icp">
                </div>
                <div class="form-group">
                  <label class="form-label">ç‰ˆæƒä¿¡æ¯</label>
                  <input type="text" class="form-input" value="Â© 2025 æ²³å—çœæ•™è‚²å… ç‰ˆæƒæ‰€æœ‰" id="copyright">
                </div>
              </form>
            </div>
          </div>

          <div class="admin-card" style="margin-bottom: 24px;">
            <div class="admin-card-header">
              <h3 class="admin-card-title">åŠŸèƒ½å¼€å…³</h3>
            </div>
            <div class="admin-card-body">
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">ç”¨æˆ·æ³¨å†Œ</div>
                  <div class="switch-desc">æ˜¯å¦å…è®¸æ–°ç”¨æˆ·æ³¨å†Œè´¦å·</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">è¯„è®ºåŠŸèƒ½</div>
                  <div class="switch-desc">æ˜¯å¦å¼€å¯å†…å®¹è¯„è®ºåŠŸèƒ½</div>
                </div>
                <label class="switch">
                  <input type="checkbox">
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">èµ„æºä¸‹è½½</div>
                  <div class="switch-desc">æ˜¯å¦å…è®¸æœªç™»å½•ç”¨æˆ·ä¸‹è½½èµ„æº</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">å†…å®¹å®¡æ ¸</div>
                  <div class="switch-desc">å­¦æ ¡å‘å¸ƒçš„å†…å®¹æ˜¯å¦éœ€è¦å®¡æ ¸</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">ç»´æŠ¤æ¨¡å¼</div>
                  <div class="switch-desc">å¼€å¯åå‰å°å°†æ˜¾ç¤ºç»´æŠ¤é¡µé¢</div>
                </div>
                <label class="switch">
                  <input type="checkbox">
                  <span class="switch-slider"></span>
                </label>
              </div>
            </div>
          </div>

          <div style="display: flex; gap: 12px;">
            <button class="btn btn-primary" style="padding: 12px 32px;" onclick="saveBasicSettings()">ä¿å­˜è®¾ç½®</button>
            <button class="btn btn-outline" style="padding: 12px 32px;" onclick="resetBasicSettings()">é‡ç½®</button>
          </div>
        </div>

        <!-- Sensitive Words Settings -->
        <div class="settings-panel" id="panel-sensitive" style="display: none;">
          <div class="admin-card" style="margin-bottom: 24px;">
            <div class="admin-card-header">
              <h3 class="admin-card-title">æ•æ„Ÿè¯åº“ç®¡ç†</h3>
              <div style="display: flex; gap: 12px;">
                <button class="btn btn-outline" style="padding: 8px 20px; font-size: 14px;" onclick="importSensitiveWords()">å¯¼å…¥è¯åº“</button>
                <button class="btn btn-primary" style="padding: 8px 20px; font-size: 14px;" onclick="openAddSensitiveModal()">+ æ·»åŠ æ•æ„Ÿè¯</button>
              </div>
            </div>
            <div class="admin-card-body">
              <div style="margin-bottom: 16px; display: flex; gap: 12px; align-items: center;">
                <input type="text" class="form-input" style="width: 250px; padding: 8px 12px;" placeholder="æœç´¢æ•æ„Ÿè¯..." id="sensitiveSearch">
                <button class="btn btn-primary" style="padding: 8px 20px; font-size: 14px;" onclick="searchSensitive()">æœç´¢</button>
              </div>
              <div class="sensitive-words-container" style="display: flex; flex-wrap: wrap; gap: 10px;">
                <span class="sensitive-word-tag">
                  å¹¿å‘Š <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  ä»£å†™ <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  åˆ·å• <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  å…¼èŒ <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  è¯ˆéª— <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  èµŒåš <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  è¿è§„ <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
                <span class="sensitive-word-tag">
                  æš´åŠ› <button onclick="deleteSensitiveWord(this)">Ã—</button>
                </span>
              </div>
              <p style="margin-top: 16px; font-size: 14px; color: var(--neutral-500);">å…± 156 ä¸ªæ•æ„Ÿè¯</p>
            </div>
          </div>

          <div class="admin-card">
            <div class="admin-card-header">
              <h3 class="admin-card-title">æ•æ„Ÿè¯è®¾ç½®</h3>
            </div>
            <div class="admin-card-body">
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">å¯ç”¨æ•æ„Ÿè¯è¿‡æ»¤</div>
                  <div class="switch-desc">å¯¹ç”¨æˆ·å‘å¸ƒçš„å†…å®¹è¿›è¡Œæ•æ„Ÿè¯æ£€æµ‹</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">è‡ªåŠ¨æ›¿æ¢æ•æ„Ÿè¯</div>
                  <div class="switch-desc">å°†æ•æ„Ÿè¯æ›¿æ¢ä¸º *** è€Œä¸æ˜¯é˜»æ­¢å‘å¸ƒ</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">è®°å½•æ•æ„Ÿè¯æ—¥å¿—</div>
                  <div class="switch-desc">è®°å½•è§¦å‘æ•æ„Ÿè¯è¿‡æ»¤çš„æ“ä½œæ—¥å¿—</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Backup Settings -->
        <div class="settings-panel" id="panel-backup" style="display: none;">
          <div class="admin-card" style="margin-bottom: 24px;">
            <div class="admin-card-header">
              <h3 class="admin-card-title">æ•°æ®å¤‡ä»½</h3>
              <button class="btn btn-primary" style="padding: 8px 20px; font-size: 14px;" onclick="createBackup()">ç«‹å³å¤‡ä»½</button>
            </div>
            <div class="admin-card-body">
              <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 24px;">
                <div style="background: var(--neutral-100); padding: 20px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 32px; margin-bottom: 8px;">ğŸ’¾</div>
                  <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">æ•°æ®åº“å¤§å°</div>
                  <div style="font-size: 20px; font-weight: 700;">256 MB</div>
                </div>
                <div style="background: var(--neutral-100); padding: 20px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“</div>
                  <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">æ–‡ä»¶å­˜å‚¨</div>
                  <div style="font-size: 20px; font-weight: 700;">1.2 GB</div>
                </div>
                <div style="background: var(--neutral-100); padding: 20px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“¦</div>
                  <div style="font-size: 14px; color: var(--neutral-600); margin-bottom: 4px;">å¤‡ä»½æ•°é‡</div>
                  <div style="font-size: 20px; font-weight: 700;">12 ä¸ª</div>
                </div>
              </div>

              <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">å¤‡ä»½å†å²</h4>
              <table class="admin-table">
                <thead>
                  <tr>
                    <th>å¤‡ä»½æ—¶é—´</th>
                    <th>å¤‡ä»½ç±»å‹</th>
                    <th>æ–‡ä»¶å¤§å°</th>
                    <th>çŠ¶æ€</th>
                    <th>æ“ä½œ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>2025-03-15 03:00:00</td>
                    <td><span class="admin-badge admin-badge-info">è‡ªåŠ¨å¤‡ä»½</span></td>
                    <td>1.45 GB</td>
                    <td><span class="admin-badge admin-badge-success">æˆåŠŸ</span></td>
                    <td class="admin-actions">
                      <button class="admin-btn-sm admin-btn-outline" onclick="downloadBackup(1)">ä¸‹è½½</button>
                      <button class="admin-btn-sm admin-btn-primary" onclick="restoreBackup(1)">æ¢å¤</button>
                      <button class="admin-btn-sm admin-btn-danger" onclick="deleteBackup(1)">åˆ é™¤</button>
                    </td>
                  </tr>
                  <tr>
                    <td>2025-03-14 03:00:00</td>
                    <td><span class="admin-badge admin-badge-info">è‡ªåŠ¨å¤‡ä»½</span></td>
                    <td>1.44 GB</td>
                    <td><span class="admin-badge admin-badge-success">æˆåŠŸ</span></td>
                    <td class="admin-actions">
                      <button class="admin-btn-sm admin-btn-outline" onclick="downloadBackup(2)">ä¸‹è½½</button>
                      <button class="admin-btn-sm admin-btn-primary" onclick="restoreBackup(2)">æ¢å¤</button>
                      <button class="admin-btn-sm admin-btn-danger" onclick="deleteBackup(2)">åˆ é™¤</button>
                    </td>
                  </tr>
                  <tr>
                    <td>2025-03-13 15:30:00</td>
                    <td><span class="admin-badge admin-badge-success">æ‰‹åŠ¨å¤‡ä»½</span></td>
                    <td>1.43 GB</td>
                    <td><span class="admin-badge admin-badge-success">æˆåŠŸ</span></td>
                    <td class="admin-actions">
                      <button class="admin-btn-sm admin-btn-outline" onclick="downloadBackup(3)">ä¸‹è½½</button>
                      <button class="admin-btn-sm admin-btn-primary" onclick="restoreBackup(3)">æ¢å¤</button>
                      <button class="admin-btn-sm admin-btn-danger" onclick="deleteBackup(3)">åˆ é™¤</button>
                    </td>
                  </tr>
                  <tr>
                    <td>2025-03-13 03:00:00</td>
                    <td><span class="admin-badge admin-badge-info">è‡ªåŠ¨å¤‡ä»½</span></td>
                    <td>1.42 GB</td>
                    <td><span class="admin-badge admin-badge-success">æˆåŠŸ</span></td>
                    <td class="admin-actions">
                      <button class="admin-btn-sm admin-btn-outline" onclick="downloadBackup(4)">ä¸‹è½½</button>
                      <button class="admin-btn-sm admin-btn-primary" onclick="restoreBackup(4)">æ¢å¤</button>
                      <button class="admin-btn-sm admin-btn-danger" onclick="deleteBackup(4)">åˆ é™¤</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="admin-card">
            <div class="admin-card-header">
              <h3 class="admin-card-title">è‡ªåŠ¨å¤‡ä»½è®¾ç½®</h3>
            </div>
            <div class="admin-card-body">
              <div class="switch-item">
                <div class="switch-info">
                  <div class="switch-title">å¯ç”¨è‡ªåŠ¨å¤‡ä»½</div>
                  <div class="switch-desc">ç³»ç»Ÿå°†è‡ªåŠ¨å®šæ—¶å¤‡ä»½æ•°æ®</div>
                </div>
                <label class="switch">
                  <input type="checkbox" checked>
                  <span class="switch-slider"></span>
                </label>
              </div>
              <div class="form-row" style="margin-top: 20px;">
                <div class="form-group" style="flex: 1;">
                  <label class="form-label">å¤‡ä»½é¢‘ç‡</label>
                  <select class="form-input" id="backupFrequency">
                    <option value="daily" selected>æ¯å¤©</option>
                    <option value="weekly">æ¯å‘¨</option>
                    <option value="monthly">æ¯æœˆ</option>
                  </select>
                </div>
                <div class="form-group" style="flex: 1;">
                  <label class="form-label">å¤‡ä»½æ—¶é—´</label>
                  <input type="time" class="form-input" value="03:00" id="backupTime">
                </div>
                <div class="form-group" style="flex: 1;">
                  <label class="form-label">ä¿ç•™æ•°é‡</label>
                  <select class="form-input" id="backupRetention">
                    <option value="7">æœ€è¿‘7ä¸ª</option>
                    <option value="14" selected>æœ€è¿‘14ä¸ª</option>
                    <option value="30">æœ€è¿‘30ä¸ª</option>
                  </select>
                </div>
              </div>
              <button class="btn btn-primary" style="padding: 12px 32px; margin-top: 20px;" onclick="saveBackupSettings()">ä¿å­˜è®¾ç½®</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Add Sensitive Word Modal -->
  <div class="modal-overlay" id="sensitiveModal">
    <div class="modal" style="max-width: 500px;">
      <div class="modal-header">
        <h3 class="modal-title">æ·»åŠ æ•æ„Ÿè¯</h3>
        <button class="modal-close" onclick="closeSensitiveModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="sensitiveForm">
          <div class="form-group">
            <label class="form-label">æ•æ„Ÿè¯</label>
            <textarea class="form-input" id="sensitiveWords" rows="5" placeholder="è¯·è¾“å…¥æ•æ„Ÿè¯ï¼Œå¤šä¸ªè¯ç”¨æ¢è¡Œåˆ†éš”"></textarea>
          </div>
          <p style="font-size: 13px; color: var(--neutral-500);">æç¤ºï¼šæ¯è¡Œä¸€ä¸ªæ•æ„Ÿè¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»é‡</p>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeSensitiveModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="saveSensitiveWords()">æ·»åŠ </button>
      </div>
    </div>
  </div>

  <!-- Restore Confirm Modal -->
  <div class="modal-overlay" id="restoreModal">
    <div class="modal" style="max-width: 450px;">
      <div class="modal-header">
        <h3 class="modal-title">ç¡®è®¤æ¢å¤æ•°æ®</h3>
        <button class="modal-close" onclick="closeRestoreModal()">&times;</button>
      </div>
      <div class="modal-body" style="text-align: center; padding: 30px 20px;">
        <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
        <p style="font-size: 16px; color: var(--neutral-700); margin-bottom: 8px;">ç¡®å®šè¦æ¢å¤åˆ°è¿™ä¸ªå¤‡ä»½å—ï¼Ÿ</p>
        <p style="font-size: 14px; color: var(--neutral-500);">å½“å‰æ•°æ®å°†è¢«è¦†ç›–ï¼Œå»ºè®®å…ˆåˆ›å»ºä¸€ä¸ªå¤‡ä»½</p>
      </div>
      <div class="modal-footer" style="justify-content: center;">
        <button class="btn btn-outline" onclick="closeRestoreModal()">å–æ¶ˆ</button>
        <button class="btn btn-danger" onclick="doRestore()">ç¡®è®¤æ¢å¤</button>
      </div>
    </div>
  </div>

  <style>
    .settings-tab {
      padding: 12px 24px;
      background: none;
      border: none;
      font-size: 14px;
      font-weight: 500;
      color: var(--neutral-600);
      cursor: pointer;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px;
      transition: all 0.3s;
    }

    .settings-tab:hover {
      color: var(--primary-800);
    }

    .settings-tab.active {
      color: var(--primary-800);
      border-bottom-color: var(--primary-800);
    }

    .switch-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid var(--neutral-200);
    }

    .switch-item:last-child {
      border-bottom: none;
    }

    .switch-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--neutral-800);
      margin-bottom: 4px;
    }

    .switch-desc {
      font-size: 13px;
      color: var(--neutral-500);
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 48px;
      height: 26px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .switch-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--neutral-300);
      transition: 0.3s;
      border-radius: 26px;
    }

    .switch-slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
    }

    .switch input:checked + .switch-slider {
      background-color: var(--primary-800);
    }

    .switch input:checked + .switch-slider:before {
      transform: translateX(22px);
    }

    .sensitive-word-tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: var(--neutral-100);
      border: 1px solid var(--neutral-300);
      border-radius: 16px;
      font-size: 14px;
      color: var(--neutral-700);
    }

    .sensitive-word-tag button {
      background: none;
      border: none;
      color: var(--neutral-500);
      cursor: pointer;
      font-size: 16px;
      padding: 0;
      line-height: 1;
    }

    .sensitive-word-tag button:hover {
      color: var(--error-600);
    }

    .form-row {
      display: flex;
      gap: 16px;
    }
  </style>

  <script>
    let restoreId = null;

    function switchTab(tabName) {
      // Hide all panels
      document.querySelectorAll('.settings-panel').forEach(panel => {
        panel.style.display = 'none';
      });
      // Remove active from all tabs
      document.querySelectorAll('.settings-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      // Show selected panel
      document.getElementById('panel-' + tabName).style.display = 'block';
      document.getElementById('tab-' + tabName).classList.add('active');
    }

    // Basic Settings
    function saveBasicSettings() {
      showToast('åŸºç¡€è®¾ç½®ä¿å­˜æˆåŠŸï¼');
    }

    function resetBasicSettings() {
      if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®¾ç½®å—ï¼Ÿ')) {
        showToast('è®¾ç½®å·²é‡ç½®');
      }
    }

    // Sensitive Words
    function openAddSensitiveModal() {
      document.getElementById('sensitiveWords').value = '';
      document.getElementById('sensitiveModal').classList.add('active');
    }

    function closeSensitiveModal() {
      document.getElementById('sensitiveModal').classList.remove('active');
    }

    function saveSensitiveWords() {
      const words = document.getElementById('sensitiveWords').value;
      if (!words.trim()) {
        alert('è¯·è¾“å…¥æ•æ„Ÿè¯');
        return;
      }
      showToast('æ•æ„Ÿè¯æ·»åŠ æˆåŠŸï¼');
      closeSensitiveModal();
    }

    function deleteSensitiveWord(btn) {
      btn.parentElement.remove();
      showToast('æ•æ„Ÿè¯å·²åˆ é™¤');
    }

    function searchSensitive() {
      const keyword = document.getElementById('sensitiveSearch').value;
      showToast('æœç´¢ï¼š' + (keyword || 'æ˜¾ç¤ºå…¨éƒ¨'));
    }

    function importSensitiveWords() {
      showToast('æ¼”ç¤ºï¼šå¯¼å…¥æ•æ„Ÿè¯åº“');
    }

    // Backup
    function createBackup() {
      showToast('æ­£åœ¨åˆ›å»ºå¤‡ä»½...');
      setTimeout(() => {
        showToast('å¤‡ä»½åˆ›å»ºæˆåŠŸï¼');
      }, 2000);
    }

    function downloadBackup(id) {
      showToast('å¼€å§‹ä¸‹è½½å¤‡ä»½æ–‡ä»¶...');
    }

    function restoreBackup(id) {
      restoreId = id;
      document.getElementById('restoreModal').classList.add('active');
    }

    function closeRestoreModal() {
      document.getElementById('restoreModal').classList.remove('active');
      restoreId = null;
    }

    function doRestore() {
      showToast('æ­£åœ¨æ¢å¤æ•°æ®...');
      closeRestoreModal();
      setTimeout(() => {
        showToast('æ•°æ®æ¢å¤æˆåŠŸï¼');
      }, 2000);
    }

    function deleteBackup(id) {
      if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¤‡ä»½å—ï¼Ÿ')) {
        showToast('å¤‡ä»½å·²åˆ é™¤');
      }
    }

    function saveBackupSettings() {
      showToast('å¤‡ä»½è®¾ç½®ä¿å­˜æˆåŠŸï¼');
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 10);
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }
  </script>
</body>
</html>
